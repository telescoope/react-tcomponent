import e,{useState as t,useRef as a,useEffect as l}from"react";import"react-phone-number-input/style.css";import"bootstrap/dist/css/bootstrap.min.css";import"dropzone/dist/min/dropzone.min.css";import"video-react/dist/video-react.css";import"rc-time-picker/assets/index.css";import"react-datepicker/dist/react-datepicker.css";import"react-input-range/lib/css/index.css";import n from"cleave.js/react";import{isUndefined as o,isEmpty as r,filter as i,isEqual as s,isArray as d,isString as c,includes as u,find as m,isNull as p,isNumber as y,uniqBy as h,findIndex as g,isBoolean as f,uniq as E,map as v,isObject as Y,isPlainObject as b}from"lodash";import k from"react-phone-number-input";import D from"jodit-react";import T from"mousetrap";import{slug as S,findArrayName as x,secureData as M,setAuthHeader as w,numberFormat as C,useDebounce as P,fetchErrorDispatch as R,defaultFilterData as I}from"tcomponent";import N from"html-react-parser";import{Modal as L,Button as V,InputGroup as A,Form as O,ButtonGroup as z,Table as F,Row as H,Col as U,Tooltip as j,DropdownButton as B,Dropdown as W,Card as K}from"react-bootstrap";import"@wiris/mathtype-generic";import G from"react-contenteditable";import{useSelector as q,useDispatch as X}from"react-redux";import J from"axios";import Q from"react-dropzone-component";import{Player as Z}from"video-react";import*as $ from"moment";import ee from"moment";import te,{DocViewerRenderers as ae}from"react-doc-viewer";import{FontAwesomeIcon as le}from"@fortawesome/react-fontawesome";import{faSearch as ne,faDownload as oe,faTimes as re,faAngleDoubleLeft as ie,faAngleLeft as se,faBars as de,faAngleRight as ce,faAngleDoubleRight as ue,faSync as me,faCheck as pe}from"@fortawesome/free-solid-svg-icons";import ye from"react-spinners/PuffLoader";import he from"react-datepicker";import{faCalendar as ge,faFile as fe,faArrowAltCircleDown as Ee,faArrowAltCircleUp as ve,faClock as Ye}from"@fortawesome/free-regular-svg-icons";import be from"react-input-range";import _e from"react-loading-overlay";import ke from"styled-components";import{useTable as De,useFilters as Te,useSortBy as Se,useExpanded as xe,usePagination as Me}from"react-table";import{useIsVisible as we}from"react-is-visible";import Ce from"rc-time-picker";import Pe from"react-tag-autocomplete";import Re from"react-select";import{css as Ie}from"@emotion/react";import{SketchPicker as Ne}from"react-color";import Le from"react-apexcharts";function Ve(i){const s=o(null==i?void 0:i.name)?"":S(String(null==i?void 0:i.name),"_"),d=q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},c=x(s,d)||"",u=X(),m=o(null==i?void 0:i.type)?"":String(null==i?void 0:i.type),p="text"===m||o(m)?"search":m,[y,h]=t(!1),[g,f]=t("");let E=(null==i?void 0:i.placeholder)||"",v={};"nik"==p.toLowerCase()?(v={delimiter:" ",blocks:[2,2,2,6,4],numericOnly:!0},E=(null==i?void 0:i.placeholder)||"Nomor Induk Kependudukan"):"kip"==p.toLowerCase()?(v={delimiter:" ",blocks:[4,4,4,4]},E=(null==i?void 0:i.placeholder)||"Kartu Indonesia Pintar"):"npwp"==p.toLowerCase()?(v={delimiters:[".",".",".","-","."],blocks:[2,3,3,1,3,3],numericOnly:!0},E=(null==i?void 0:i.placeholder)||"Nomor Pokok Wajib Pajak"):"postcode"==p.toLowerCase()?(v={blocks:[5],delimiter:" ",numericOnly:!0},E=(null==i?void 0:i.placeholder)||"Kode Pos"):"phone"==p.toLowerCase()&&(E=(null==i?void 0:i.placeholder)||"Telepon");const Y=t({readonly:!1,placeholder:" ",toolbarButtonSize:"small"}),b=a(),_=a(),M=a();function w(e){e.preventDefault();let t=e.target.value?String(e.target.value):"";"nik"!=m&&"kip"!=m&&"npwp"!=m&&"postcode"!=m||(t=t.replace(/\D/g,"")),null!=i&&i.maxlength&&(t=t.substring(0,null==i?void 0:i.maxlength)),P(t)}function C(){h(!1)}function P(e){var t;t=e,u({type:"SET_INPUT",payload:{key:S(String(s),"_"),value:t}})}return l(()=>{o(null==i?void 0:i.value)||P(null==i?void 0:i.value)},[null==i?void 0:i.value]),l(()=>{if(null!=i&&i.disableCopy||null!=i&&i.disablePaste||null!=i&&i.disableSelectAll){let e=[];null!=i&&i.disableCopy&&(e.push("command+c"),e.push("ctrl+c")),null!=i&&i.disablePaste&&(e.push("command+v"),e.push("ctrl+v")),null!=i&&i.disableSelectAll&&(e.push("command+a"),e.push("ctrl+a")),e.length>0&&T.bind(e,function(){return!1})}if("equation"==m)try{let e={};e.target=M.current,e.toolbar=b.current;let t=new window.WirisPlugin.GenericIntegration(e);t.init(),t.listeners.fire("onTargetReady",{}),WirisPlugin.currentInstance=t}catch(e){}},[]),s?null!=i&&i.disabled||null!=i&&i.isReadonly?!r(c)&&N(String(c)):"nik"==m||"kip"==m||"npwp"==m||"postcode"==m?e.createElement(n,{placeholder:E,id:null==i?void 0:i.id,name:s,value:c,onChange:w,options:v,className:"form-control"}):"textarea"==m?e.createElement("textarea",{id:null==i?void 0:i.id,rows:(null==i?void 0:i.rows)||3,className:"form-control no-resize mousetrap",onChange:w,name:s,value:c,placeholder:E}):"phone"==m?e.createElement(k,{international:!0,defaultCountry:"ID",numberInputProps:{className:"form-control"},value:c?String(c):"",onChange:P}):"texteditor"==m?e.createElement(e.Fragment,null,e.createElement("div",{className:"form-control",style:{minHeight:32},onClick:function(){f(""),h(!0)}},r(c)?"":N(String(c))),e.createElement(L,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",show:y,onHide:C},e.createElement(L.Body,null,e.createElement(D,{key:(null==i?void 0:i.name)+"_editor",id:null==i?void 0:i.id,ref:_,value:r(c)?"":String(c),config:Y,tabIndex:1,onChange:e=>f(e)})),e.createElement(L.Footer,{style:{justifyContent:"space-between"}},e.createElement(V,{onClick:C,variant:"secondary"},"Kembali"),e.createElement(V,{onClick:function(){P(g),C()},variant:"primary"},"Simpan")))):"equation"==m?e.createElement(A,null,e.createElement(A.Text,null,e.createElement("div",{ref:b})),e.createElement(G,{suppressContentEditableWarning:!0,className:"form-control",innerRef:M,onChange:function(e){window.WirisPlugin.Parser.endParse(e.target.value),P(e.target.value)},html:c||""})):e.createElement(O.Control,{id:null==i?void 0:i.id,type:p,placeholder:E,value:c,onChange:w,name:s,className:"form-control mousetrap"}):"Name is Required"}function Ae(){return e.createElement(ye,{color:"#000",size:25})}let Oe=$;function ze(t){const a=[{uri:process.env.REACT_APP_API_URL+"/file/stream/"+t.file}];try{if(s(t.type.type.substring(0,5),"video"))return e.createElement(Z,{key:t.file,autoPlay:!1,src:process.env.REACT_APP_API_URL+"/file/stream/"+t.file})}catch(e){}return e.createElement(te,{style:{width:"100%",height:480},pluginRenderers:ae,documents:a})}function Fe(a){let n=a.accept?a.accept:"image/*, video/*, audio/*, .docx, .xlsx, .pptx, .csv, .pdf",o=q(e=>e.core.input),u=q(e=>e.core.parameter),[m,p]=t({}),[y,h]=t([]),[g,f]=t(!1),E=q(e=>e.auth),v=X();function Y(e){if(c(e)&&!r(e)&&"null"!=e&&!function(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}(e)&&r(m[e])){let t=process.env.REACT_APP_API_URL+"/file/info",a=M({token_file:e}),l={method:"POST",headers:w(E),url:t,data:a};f(!0);try{J(l).then(t=>{t.data.success&&(m[e]=t.data.data,p(m),S[e]=!1,C(S)),f(!1)}).catch(t=>{m[e]="",p(m),S[e]=!1,C(S)})}catch(e){}}}function b(e){return c(e)&&!r(e)&&"null"!=e}function _(e){return i(e,b)||[]}function k(e){return _(String(e).split("|"))}function D(e){C({...S,[e]:!S[e]})}function T(e){e!=u.openFile&&v({type:"SET_PARAMETER",payload:{key:"openFile",value:e}})}l(()=>{let e=a.value?a.value:x(a.name,o);if(e){let t=k(e);h(t)}},[]),l(()=>{let e=k(x(a.name,o));s(e,y)||h(e)},[x(a.name,o)]),l(()=>{!function(e){try{if(d(e)&&e.length>0)for(let t=0;t<e.length;t++)b(e[t])&&Y(e[t]);else b(e)&&Y(e)}catch(e){}}(y)},[y]),l(()=>{T(g)},[g]);let[S,C]=t({}),P=_(y);return process.env.REACT_APP_API_URL?e.createElement("div",null,!g&&!a.isReadonly&&e.createElement("div",null,!a.isMultiple&&e.createElement("div",{style:{display:"inline-block"}},e.createElement(O.Control,{className:a.className,accept:n,label:a.name,type:"file",onChange:function(e){let t=e.target.files||e.dataTransfer.files;t.length&&function(e){let t=new FileReader;t.onload=t=>{!function(e,t){let l=a.url||process.env.REACT_APP_API_URL+"/file/upload",n=new FormData,o=e.name;n.append("type",e.type),n.append("name",o),n.append("file",e),n.append("lastModifiedDate",Oe(e.lastModifiedDate).format("YYYY-MM-DD HH:mm:ss")),n.append("size",e.size),f(!0),J.post(l,n,{headers:w(E,"multipart/form-data; boundary="+n._boundary)}).then(e=>{r(e.data.message)||v({type:"SET_MESSAGE",payload:e.data.message}),e.data.success?(v({type:"SET_INPUT",payload:{key:a.name,value:e.data.data.token}}),h([e.data.data.token])):v({type:"SET_INPUT",payload:{key:a.name,value:""}}),f(!1)}).catch(e=>{v({type:"SET_INPUT",payload:{key:a.name,value:""}}),v({type:"SET_MESSAGE",payload:"Gagal mengunggah lampiran"}),f(!1)})}(e)},t.readAsDataURL(e)}(t[0])},onInput:function(e){T(!1)},onClick:function(e){T(!0),setTimeout(()=>{T(!1)},6e4)}})),!g&&a.isMultiple&&e.createElement(Q,{config:{showFiletypeIcon:!0,postUrl:process.env.REACT_APP_API_URL+"/file/upload_multiple",uploadMultiple:!0,maxFiles:5},eventHandlers:{drop:function(){},complete:function(e){let t=JSON.parse(e.xhr.response),l=y||[];l.push(t.data.token);let n=i(l,function(e){return!r(e)})||[];v({type:"SET_INPUT",payload:{key:a.name,value:n.join("|")}}),h(n)},removedfile:function(e){}},djsConfig:{acceptedFiles:n,params:{token:E.user.token},addRemoveLinks:!0,autoProcessQueue:!0,maxFiles:5}})),!g&&P.length>0&&P.map((t,l)=>e.createElement("div",{style:{display:"inline-block"},key:t},a.preview&&e.createElement(e.Fragment,null,e.createElement(ze,{key:t,type:m[t],file:t}),e.createElement("br",null)),e.createElement(z,null,e.createElement(V,{variant:"primary",onClick:()=>D(t)},e.createElement(le,{icon:ne})," Lihat"),e.createElement(V,{vendor:"success",onClick:()=>window.location.href=process.env.REACT_APP_API_URL+"/file/download/"+t},e.createElement(le,{icon:oe})," Unduh"),!a.isReadonly&&e.createElement(V,{variant:"danger",onClick:()=>function(e){let t=process.env.REACT_APP_API_URL+"/file/delete",l=M({token_file:e,token:E.token}),n={method:"POST",headers:w(E),url:t,data:l};f(!0),J(n).then(t=>{r(t.data.message)||v({type:"SET_MESSAGE",payload:t.data.message});let l=i(y,t=>!s(t,e));h(l),v({type:"SET_INPUT",payload:{key:a.name,value:l}}),f(!1)}).catch(t=>{v({type:"SET_MESSAGE",payload:"Gagal menghapus lampiran"});let l=i(y,t=>!s(t,e));v({type:"SET_INPUT",payload:{key:a.name,value:l}}),h(l),f(!1)})}(t)},e.createElement(le,{icon:re})," Hapus")),e.createElement(L,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",id:"modal_"+t,show:S[t],onHide:()=>D(t)},e.createElement(L.Body,null,e.createElement(ze,{key:t,type:m[t],file:t})),e.createElement(L.Footer,null,e.createElement(V,{variant:"primary",onClick:()=>D(t)},e.createElement(le,{icon:re})," Tutup"))))),g&&e.createElement(Ae,null)):e.createElement("span",null,"REACT_APP_API_URL is required for .env")}function He(t){const a=o(null==t?void 0:t.name)?"":S(String(null==t?void 0:t.name),"_"),l=X(),n=q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},i=q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.parameter})||{};let c=x(a,n)||null;x("selected_"+a,i);const p=t.type||"inline";let y=[];try{y=t.options.length>0?t.options:[]}catch(e){}function h(e){let a=[];if(d(t.optionLabel))for(let l=0;l<=t.optionLabel.length-1;l++)a.push(e[t.optionLabel[l]]);else a.push(e[t.optionLabel]);return a}function g(e,n){l({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:n}});let i=null;if(t.isMultiple){i=[];try{if(d(y)&&d(n))for(let e=0;e<y.length;e++)for(let a=0;a<n.length;a++){let l=y[e],o=n[a];String(l[t.optionValue])==String(o)&&i.push(l)}}catch(e){}0==i.length&&(i=null)}else i=m(y,function(e){return String(e[t.optionValue])==String(n)}.bind(this))||{},r(i)&&(i=null);o(i)||l({type:"SET_PARAMETER",payload:{key:"selected_"+a,value:i}})}function f(e){if(!t.isReadonly&&a)try{if(t.isMultiple){let l=c||[],n=!1,o=[];for(let a=0;a<l.length;a++){let r=l[a];r==e[t.optionValue]?n=!0:o.push(r)}n||o.push(e[t.optionValue]),g(a,o)}else{let l=c;t.value&&(l=t.value);let n=null;l!=e[t.optionValue]&&(n=e[t.optionValue]),g(a,n)}}catch(e){g(a,null)}}return e.createElement("div",{className:"custom-controls-stacked"},y.map(l=>{let n=!1;try{n=t.isMultiple?u(c,l[t.optionValue]):s(c,l[t.optionValue])}catch(e){}return e.createElement(e.Fragment,null,e.createElement(O.Check,{inline:"inline"===p,disabled:t.disabled||t.isReadonly,type:t.isMultiple?"checkbox":"radio",name:a,onChange:e=>f(l),value:l,checked:n,label:h(l).map((a,l)=>s(String(a).substring(0,3),"AT-")?e.createElement(Fe,{value:a,isReadonly:!0,preview:!0}):t.isHtml?N(String(a)):a)}))}))}const Ue=t=>e.createElement(A,null,e.createElement(A.Text,{style:{background:"none"}},e.createElement(le,{icon:ge})),e.createElement(O.Control,{style:{borderLeft:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:null==t?void 0:t.disabled,name:null==t?void 0:t.name,value:(null==t?void 0:t.value)||"",onClick:null==t?void 0:t.onClick}));function je(t){const a=o(null==t?void 0:t.name)?"":S(String(null==t?void 0:t.name),"_"),l=X(),n=q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{};let r=x(a,n)||null,i=x("start_"+a,n)||null,s=x("end_"+a,n)||null;if(null!=t&&t.isRange){try{i=ee(i,"YYYY-MM-DD").isValid()?ee(i,"YYYY-MM-DD").toDate():null}catch(e){}try{s=ee(s,"YYYY-MM-DD").isValid()?ee(s,"YYYY-MM-DD").toDate():null}catch(e){}}else try{r=ee(r,"YYYY-MM-DD").isValid()?ee(r,"YYYY-MM-DD").toDate():null}catch(e){}function d(e,t){l({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:ee(t,"YYYY-MM-DD").isValid()?ee(t,"YYYY-MM-DD").format("YYYY-MM-DD"):""}})}const c=null!=t&&t.dateFormat?null==t?void 0:t.dateFormat:"yyyy-MM-dd";function u(e){const t=ee(e).format("d");return 5==t||6==t?"weekend":void 0}return null!=t&&t.isRange?null!=t&&t.disabled||null!=t&&t.isReadonly?(ee(i,"YYYY-MM-DD").isValid()?ee(i,"YYYY-MM-DD").format("DD-MM-YYYY"):"")+" - "+(ee(s,"YYYY-MM-DD").isValid()?ee(s,"YYYY-MM-DD").format("DD-MM-YYYY"):""):e.createElement("div",{className:"input-daterange input-group"},e.createElement(he,{minDate:ee(null==t?void 0:t.minDate,"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.minDate,"YYYY-MM-DD").toDate():null,maxDate:ee(null==t?void 0:t.maxDate,"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:c,placeholder:null!=t&&t.placeholder?null==t?void 0:t.placeholder:"Tanggal",selected:i,isClearable:!(null!=t&&t.disabled||null!=t&&t.isReadonly),customInput:e.createElement(Ue,{value:i,name:"start_"+a}),onChange:function(e){e=ee(e,"YYYY-MM-DD").isValid()?ee(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,d("start_"+a,e)},selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,showYearPicker:!1,name:"start_"+a,todayButton:"Hari ini",dayClassName:u,dropdownMode:"select",disabled:(null==t?void 0:t.disabled)||(null==t?void 0:t.isReadonly),readOnly:(null==t?void 0:t.disabled)||(null==t?void 0:t.isReadonly),startDate:i,endDate:s,shouldCloseOnSelect:!0}),e.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),e.createElement(he,{minDate:ee(i,"YYYY-MM-DD").isValid()?ee(i,"YYYY-MM-DD").toDate():ee(null==t?void 0:t.minDate,"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.minDate,"YYYY-MM-DD").toDate():null,maxDate:ee(null==t?void 0:t.maxDate,"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:c,placeholder:null!=t&&t.placeholder?null==t?void 0:t.placeholder:"Tanggal",selected:s,isClearable:!(null!=t&&t.disabled||null!=t&&t.isReadonly),name:"end_"+a,selectsEnd:!0,customInput:e.createElement(Ue,{value:s,name:"end_"+a}),onChange:function(e){e=ee(e,"YYYY-MM-DD").isValid()?ee(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,d("end_"+a,e)},selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,showYearPicker:!1,dayClassName:u,todayButton:"Hari ini",dropdownMode:"select",startDate:i,endDate:s,disabled:(null==t?void 0:t.disabled)||(null==t?void 0:t.isReadonly),readOnly:(null==t?void 0:t.disabled)||(null==t?void 0:t.isReadonly),shouldCloseOnSelect:!0})):null!=t&&t.disabled||null!=t&&t.isReadonly?ee(null==t?void 0:t.input[a],"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.input[a],"YYYY-MM-DD").format("DD-MM-YYYY"):"":e.createElement(he,{minDate:ee(null==t?void 0:t.minDate,"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.minDate,"YYYY-MM-DD").toDate():null,maxDate:ee(null==t?void 0:t.maxDate,"YYYY-MM-DD").isValid()?ee(null==t?void 0:t.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:c,placeholder:null!=t&&t.placeholder?null==t?void 0:t.placeholder:"Tanggal",customInput:e.createElement(Ue,{value:r,name:a}),selected:r,isClearable:!(null!=t&&t.disabled||null!=t&&t.isReadonly),id:a,className:"form-control",dayClassName:u,onChange:function(e){e=ee(e,"YYYY-MM-DD").isValid()?ee(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,d(a,e)},selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,showYearPicker:!1,todayButton:"Hari ini",dropdownMode:"select",disabled:(null==t?void 0:t.disabled)||(null==t?void 0:t.isReadonly),readOnly:(null==t?void 0:t.disabled)||(null==t?void 0:t.isReadonly),shouldCloseOnSelect:!0})}function Be(t){const a=o(null==t?void 0:t.name)?"":S(String(null==t?void 0:t.name),"_"),l=X(),r=q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{};let i=x(a,r)||null,s=t.enableNegative?{numeral:!0}:{numeral:!0,numeralPositiveOnly:!0};function d(e,a=0,l=100){return t.enableNegative&&e<0&&(a=-l),isNaN(e)&&(e=a),(e=parseFloat(e))>=l?e=l:e<=a&&(e=a),e?Number(e):null}return"decimal"==t.type||"percent"==t.type||"range_three"==t.type||(s.numeralThousandsGroupStyle="thousand"),t.disabled||t.isReadonly?p(i)||o(i)?null:C(i,""):"range"==t.type?e.createElement(be,{maxValue:t.maxValue,minValue:t.minValue,value:i,onChange:this.onChange}):e.createElement(n,{placeholder:t.placeholder?t.placeholder:"",id:a,name:a,onInit:e=>{},value:i,onChange:function(e){let n=y(e.target.value)?Number(e.target.value):Number(e.target.value.replace(/[^0-9.-]+/g,""));"decimal"==t.type?n=Number(n):"percent"==t.type?n=d(n,0,100):"range_three"==t.type?n=d(n,1,3):"range_hundred"==t.type?n=d(n,1,100):"range_depend"==t.type&&(n=d(n,0,100));let o=t.minValue?Number(t.minValue):null,r=t.maxValue?Number(t.maxValue):null;r&&o?n=d(n,o,r):!r&&o?n=d(n,o,999999999999):r&&!o&&(n=d(n,0,r)),n=function(e){!function(e,t){l({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:t}})}(a,e)}(n)},options:s,className:"form-control"})}let We;const Ke=ke(_e)(We||(We=(e=>e)`
  overflow: hidden;

  ._loading_overlay_overlay {
    background: rgba(255, 255, 255, 0.5);
  }
  &._loading_overlay_wrapper--active {
    overflow: hidden;
  }
`));function Ge(t){return e.createElement(Ke,{fadeSpeed:250,active:t.isLoading,spinner:e.createElement(Ae,null)},t.children)}const qe=({})=>null,Xe=t=>{let a=t.column.filterValue,n=t.column.id,o=t.name,r=X(),[i,s]=e.useState(a),d=S("search_"+o+"_"+n,"_"),c=q(e=>e.core.filter);return l(()=>{s(c[d])},[]),e.createElement(O.Control,{key:d,id:d,name:d,value:i,style:{zIndex:0},onChange:function(e){e.preventDefault(),s(e.target.value),setCurPage(1),r({type:"SET_MULTI_FILTER",payload:{[d]:e.target.value,[S("loaded_"+o,"_")]:!1}})},placeholder:"Pencarian"})};function Je({columns:a,data:n,renderRowSubComponent:i,customPageIndex:s,customPageSize:d,customPageCount:c,loading:u,isColumnsSearchable:m,primaryKey:y,name:h,customPageTotal:g}){let f=q(e=>e.core.filter)||{},E=[];for(let e=0;e<a.length;e++)try{let t=S("sort_"+h+"_"+a[e][y],"_"),l=f[t];r(l)||p(l)||o(l)||E.push({id:a[e][y],desc:"desc"==l})}catch(e){}let{getTableProps:v,getTableBodyProps:Y,headerGroups:b,page:_,prepareRow:k,visibleColumns:D,gotoPage:T,setPageSize:x,state:{pageIndex:M,pageSize:w}}=De({columns:a,data:n,defaultColumn:{Filter:t=>e.createElement(Xe,Object.assign({},t,{name:h}))},initialState:{pageIndex:s,pageSize:d,sortBy:E},manualPagination:!0,pageCount:c,manualSortBy:!0,defaultCanSort:!0,isMultiSortEvent:()=>{}},Te,Se,xe,Me),R=b[0].headers||[];P(()=>{let e={};for(let t=0;t<R.length;t++){let a=R[t];if(a){let t=S("sort_"+h+"_"+a[y],"_"),l=a.isSorted?a.isSortedDesc?"desc":"asc":null;l!=f[t]&&(e[t]=l)}}r(e)||H({type:"SET_MULTI_FILTER",payload:{...e,[S("loaded_"+h,"_")]:!1}})},400,[R]);let[I,N]=t(u),[L,z]=t(M),H=X(),U=e=>{x(Number(e.target.value)),H({type:"SET_MULTI_FILTER",payload:{[S("load_"+h,"_")]:Number(e.target.value),[S("page_"+h,"_")]:L}})},j=e=>{let t=e.target.value?Number(e.target.value):0;J(t)},B=s<c,W=s>=2,K=()=>{L<c&&J(L+1)},G=()=>{L>=2&&J(L-1)},J=e=>{z(e)};return P(()=>{T(L),H({type:"SET_MULTI_FILTER",payload:{[S("load_"+h,"_")]:w,[S("page_"+h,"_")]:L}})},400,[L]),P(()=>{J(f[S("page_"+h,"_")])},400,[f[S("page_"+h,"_")]]),l(()=>{N&&!u?setTimeout(()=>N(u),400):N(u)},[u]),r(h)?e.createElement("p",null,"Props name is Required"):e.createElement("div",null,e.createElement("div",{className:"custom-scroll",style:{overflow:"auto"}},e.createElement(A,null,e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:()=>J(1),disabled:!W||u},e.createElement(le,{icon:ie})),e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:G,disabled:!W||u},e.createElement(le,{icon:se})),e.createElement(A.Text,{style:{background:"none"}},e.createElement(le,{icon:fe}),"   Hal :"," "),e.createElement(O.Control,{style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},type:"number",min:1,max:c,value:L,onChange:j}),e.createElement(A.Text,{style:{background:"none"}},e.createElement(le,{icon:de}),"   Lihat :"," "),e.createElement(O.Control,{type:"number",min:1,style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},max:50,value:w,onChange:U}),e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:K,disabled:!B||u},e.createElement(le,{icon:ce})),e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:()=>J(c),disabled:!B||u},e.createElement(le,{icon:ue})))),e.createElement("div",{className:"text-center mt-2 mb-2"},e.createElement("strong",null,C(s,""))," dari"," ",e.createElement("strong",null,C(c,""))," hal. Total"," : ",e.createElement("strong",null,C(g,""))," baris"),e.createElement(F,Object.assign({style:{margin:0,zIndex:0},responsive:!0,bordered:!0,hover:!0,striped:!0,vcenter:!0},v()),e.createElement("thead",null,b.map(t=>e.createElement("tr",t.getHeaderGroupProps(),t.headers.map(t=>e.createElement("th",Object.assign({style:{padding:"4px 8px",borderTop:"1px solid #dee2e6"}},t.getHeaderProps()),e.createElement("div",t.getSortByToggleProps(),e.createElement("span",{style:{display:"inline-block"}},t.render("Header")),e.createElement("span",{style:{display:"inline-block",fontWeight:"bold"}},(e=>e.isSorted?e.isSortedDesc?" ↓":" ↑":"")(t))),m&&e.createElement(qe,{column:t})))))),e.createElement("tbody",Y(),_.length>0&&!I&&parseInt(s)===parseInt(L)?_.map(t=>(k(t),e.createElement(e.Fragment,{key:t.getRowProps().key},e.createElement("tr",null,t.cells.map((t,a)=>e.createElement("td",Object.assign({style:{padding:"4px 8px",width:0==a?"10px":"auto"}},t.getCellProps()),t.render("Cell")))),t.isExpanded&&e.createElement("tr",null,e.createElement("td",{style:{padding:"4px 8px"},colSpan:D.length},i(t)))))):b.map(t=>e.createElement("tr",null,e.createElement("td",{style:{padding:"12px 0",textAlign:"center"},colSpan:t.headers.length},I||parseInt(s)!==parseInt(L)?"Memproses":"Tidak ada data"))))),e.createElement("div",{className:"text-center mt-2 mb-2"},e.createElement("strong",null,C(s,""))," dari"," ",e.createElement("strong",null,C(c,""))," hal. Total"," : ",e.createElement("strong",null,C(g,""))," baris"),e.createElement("div",{className:"custom-scroll",style:{overflow:"auto"}},e.createElement(A,null,e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:()=>J(1),disabled:!W||u},e.createElement(le,{icon:ie})),e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:G,disabled:!W||u},e.createElement(le,{icon:se})),e.createElement(A.Text,{style:{background:"none"}},e.createElement(le,{icon:fe}),"   Hal :"," "),e.createElement(O.Control,{style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},type:"number",min:1,max:c,value:L,onChange:j}),e.createElement(A.Text,{style:{background:"none"}},e.createElement(le,{icon:de}),"   Lihat :"," "),e.createElement(O.Control,{type:"number",min:1,style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},max:50,value:w,onChange:U}),e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:K,disabled:!B||u},e.createElement(le,{icon:ce})),e.createElement(V,{style:{border:"none",zIndex:0},variant:"primary",onClick:()=>J(c),disabled:!B||u},e.createElement(le,{icon:ue})))))}function Qe(n){const[c,u]=t(!1),[p,y]=t(""),[v,Y]=t([]),[b,_]=t([]),[k,D]=t({}),[T,M]=t(!1),[w,C]=t(!1),R=X(),I=(q(e=>e.core.parameter),q(e=>e.core.input)||{}),N=q(e=>e.auth.user)||{},L=q(e=>e.core.filter)||{},z=S("selected_"+n.name,"_"),F=n.primaryKey?n.primaryKey:"id",K=a(),G=we(K);let J={Header:"#",id:"select",width:"10px",Cell:t=>{let a=q(e=>e.core.input),l=!1;try{l="single"==n.selectable?x(z,a)==t.row.original[F]:g(x(z,a),function(e){return e==t.row.original[F]})>-1}catch(e){}return e.createElement(O.Check,{inline:!0,id:S(n.name+"_check_"+t.row.original[F],"_"),name:S(n.name+"_check_"+t.row.original[F],"_"),type:"single"==n.selectable?"radio":"checkbox",value:1,checked:l,disabled:n.isReadonly,onChange:()=>function(e,t,a=!1){let l=e.row.original||{};if("single"==n.selectable)R({type:"SET_PARAMETER",payload:{key:z,value:l}}),R({type:"SET_INPUT",payload:{key:z,value:l[F]}});else{let e=[];a?e=i(x(z,t),e=>e&&l&&parseInt(e)!=parseInt(l[F]))||[]:(e=x(z,t)||[],d(e)||(e=[]),e.push(l[F])),e=E(e),R({type:"SET_INPUT",payload:{key:z,value:e}})}}(t,a,l)})}},Q=r(n.selectable)?[...n.columns]:[J,...n.columns];if(n.action){let t={Header:"Aksi",id:"aksi_"+n.name,sortable:!1,Cell:t=>{let a=q(e=>e.core.parameter),l=t.row.original[F];return e.createElement(B,{key:"dropdown_"+n.name+"_"+l,id:"dropdown_"+n.name+"_"+l,isOpen:s(a.dropdown,l),toggle:()=>function(e){let t=s(a.dropdown,e)?null:e;R({type:"SET_PARAMETER",payload:{key:"dropdown",value:t}})}(l),drop:"end",variant:"primary",title:""},i(n.action,function(e){return o(e.show)||e.show}).map((a,o)=>{let r=!!f(a.disabled)&&a.disabled;return e.createElement(W.Item,{key:"dropdownitem_"+n.name+"_"+l+"_"+o,onClick:()=>a.onClick(t.row.original),disabled:r},a.label)}))}};Q=r(n.selectable)?[t,...n.columns]:[t,J,...n.columns]}function Z(){c&&(y(window.location.href),n.onReload(),x(S("loaded_"+n.name,"_"),L)||R({type:"SET_FILTER",payload:{key:S("loaded_"+n.name,"_"),value:!0}}))}l(()=>{G!=c&&u(G)}),l(()=>{R({type:"SET_FILTER",payload:{key:S("loaded_"+n.name,"_"),value:!1}})},[]),P(()=>{!c||s(window.location.href,p)&&!r(p)||Z()},400,[c,window.location.href]),P(Z,400,[x(S("keyword_"+n.name,"_"),L),x(S("page_"+n.name,"_"),L),x(S("load_"+n.name,"_"),L),x(S("loaded_"+n.name,"_"),L)]),P(()=>{_(e=>h([...e,...v],F)),x(z,I)&&function(){let e=null,t=null;if("single"==n.selectable)e=e=m(b,e=>e&&parseInt(e[F])==t)||{},t=x(z,I)||null;else{e=[],t=x(z,I)||[];for(let a=0;a<t.length;a++){let l=m(b,e=>e&&parseInt(e[F])==t[a])||{};r(l)||e.push(l)}}R({type:"SET_PARAMETER",payload:{key:z,value:e}})}()},400,[x(z,I),L]),P(()=>{try{Y(n.data.data||[])}catch(e){}_(e=>h([...e,...v],F));try{D(n.data.meta||{})}catch(e){}},400,[n.data]);let $=e.useMemo(()=>Q,[]),ee=!1;try{ee="admin"==N.role}catch(e){}return e.createElement(Ge,{isLoading:n.isLoading},e.createElement("div",{style:{padding:"8px 12px"},ref:K},e.createElement("div",{style:{marginBottom:"12px"}},e.createElement(H,null,e.createElement(U,{xs:"12",sm:"12",md:"8",lg:"8"},e.createElement("div",null,n.renderFilter?n.renderFilter:null))),e.createElement(H,{style:{justifyContent:"flex-end"}},e.createElement(U,{xs:"12",sm:"12",md:"4",lg:"4"},e.createElement("div",null,n.isSearchable&&e.createElement("div",null,e.createElement(A,null,e.createElement(A.Text,{style:{background:"none"}},e.createElement(le,{icon:ne})),e.createElement(O.Control,{id:S("keyword_"+n.name,"_"),key:S("keyword_"+n.name,"_"),style:{borderLeft:"none"},className:"form-control",value:x(S("keyword_"+n.name,"_"),L),onChange:e=>{R({type:"SET_MULTI_FILTER",payload:{[S("keyword_"+n.name,"_")]:e.target.value,[S("page_"+n.name,"_")]:1,loaded:!1}})},type:"text",id:S("keyword_"+z),name:S("keyword_"+n.name,"_"),placeholder:"Pencarian"}),e.createElement(V,{style:{zIndex:0},variant:"primary",onClick:Z,type:"button",disabled:n.isLoading},e.createElement(le,{icon:me,spin:n.isLoading})),(n.export||n.import)&&e.createElement(e.Fragment,null,n.export&&e.createElement(V,{id:"exportFile",style:{zIndex:0},variant:"primary",className:"mr-1",onClick:n.exportReload,type:"button",disabled:n.disabledButton},e.createElement(le,{icon:Ee}),e.createElement(j,{placement:"top",isOpen:T,autohide:!1,target:"exportFile",toggle:()=>M(!T)},"Export")),n.import&&e.createElement(V,{id:"importFile",style:{zIndex:0},variant:"primary",className:"mr-1",onClick:n.importReload,type:"button",disabled:n.disabledButton},e.createElement(le,{icon:ve}),e.createElement(j,{placement:"top",isOpen:w,autohide:!1,target:"importFile",toggle:()=>C(!w)},"Import"))))))))),e.createElement(Je,{name:S(n.name,"_"),columns:$,data:v,primaryKey:F,isColumnsSearchable:n.isColumnsSearchable,fetchData:Z,loading:n.isLoading,customPageTotal:k&&!r(k)?k.total:0,customPageCount:k&&!r(k)?k.last_page:1,customPageSize:k&&!r(k)?k.per_page:x(S("load_"+n.name,"_"),L)?x(S("load_"+n.name,"_"),L):10,customPageIndex:k&&!r(k)?k.current_page:x(S("page_"+n.name,"_"),L)?x(S("page_"+n.name,"_"),L):1})))}function Ze(t){let a=[];if(d(t.errorMessage))for(let e=0;e<t.errorMessage.length;e++){let l=t.errorMessage[e];if(d(l))for(let e=0;e<l.length;e++)a.push(l[e]);else a.push(l)}else a.push(t.errorMessage);return e.createElement(O.Group,{as:H},e.createElement(O.Label,{column:!0,md:t.labelSize?t.labelSize:3},t.label?t.label:"Label",t.isRequired&&e.createElement("span",{className:"text-danger"}," *"),t.hint&&e.createElement("small",{className:"form-text text-muted"},t.hint)),e.createElement(U,{md:t.inputSize?t.inputSize:9},t.children,e.createElement(O.Text,{className:"text-danger"},a.length>0&&a.join(", "))))}let $e="YYYY-MM-DD HH:mm:ss";const et=t=>e.createElement(A,null,e.createElement(A.Text,{style:{background:"none"}},e.createElement(le,{icon:ge})),e.createElement(O.Control,{style:{borderLeft:"none",borderRight:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:t.disabled,name:t.name,value:t.value||"",onClick:t.onClick}),e.createElement(A.Text,{style:{background:"none"}},e.createElement(le,{icon:Ye})));function tt(t){const a=o(null==t?void 0:t.name)?"":S(String(null==t?void 0:t.name),"_"),l=X(),n=q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{};let r=x(a,n)||null,i=x("start_"+a,n)||null,s=x("end_"+a,n)||null;if(t.isRange){try{i=ee(i,$e).isValid()?ee(i,$e).toDate():null}catch(e){}try{s=ee(s,$e).isValid()?ee(s,$e).toDate():null}catch(e){}}else try{r=ee(r,$e).isValid()?ee(r,$e).toDate():null}catch(e){}function d(e,t){l({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:ee(t,$e).isValid()?ee(t,$e).format($e):""}})}const c=t.dateFormat?t.dateFormat:"yyyy-MM-dd HH:mm:ss";function u(e){const t=ee(e).format("d");return 5==t||6==t?"weekend":void 0}return t.isRange?t.disabled||t.isReadonly?e.createElement("div",{className:"input-daterange input-group"},ee(i,$e).isValid()?ee(i,$e).format("DD-MM-YYYY HH:mm:ss"):null,e.createElement("span",{style:{background:"none"}},"  s/d  "),ee(s,$e).isValid()?ee(s,$e).format("DD-MM-YYYY HH:mm:ss"):null):e.createElement("div",{className:"input-daterange input-group",style:{background:"none"}},e.createElement(he,{minDate:ee(t.minDate,$e).isValid()?ee(t.minDate,$e).toDate():null,maxDate:ee(t.maxDate,$e).isValid()?ee(t.maxDate,$e).toDate():null,dateFormat:c,placeholder:t.placeholder?t.placeholder:"Tanggal & Waktu",selected:i,isClearable:!t.disabled&&!t.isReadonly,customInput:e.createElement(et,{value:i,name:"start_"+a}),onChange:function(e){e=ee(e,$e).isValid()?ee(e,$e).format($e):null,d("start_"+a,e)},timeInputLabel:"Waktu : ",showTimeInput:!0,selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,id:"start_"+a,name:"start_"+a,todayButton:"Hari ini",dayClassName:u,dropdownMode:"select",startDate:i,endDate:s,shouldCloseOnSelect:!0}),e.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),e.createElement(he,{minDate:ee(i,$e).isValid()?ee(i,$e).toDate():ee(t.minDate,$e).isValid()?ee(t.minDate,$e).toDate():null,maxDate:ee(t.maxDate,$e).isValid()?ee(t.maxDate,$e).toDate():null,dateFormat:c,placeholder:t.placeholder?t.placeholder:"Tanggal & Waktu",selected:s,isClearable:!t.disabled&&!t.isReadonly,id:"end_"+a,name:"end_"+a,selectsEnd:!0,timeInputLabel:"Waktu : ",showTimeInput:!0,customInput:e.createElement(et,{value:s,name:"end_"+a}),onChange:function(e){e=ee(e,$e).isValid()?ee(e,$e).format($e):null,d("end_"+a,e)},peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dayClassName:u,todayButton:"Hari ini",dropdownMode:"select",startDate:i,endDate:s,shouldCloseOnSelect:!0})):t.disabled||t.isReadonly?e.createElement("div",{className:"input-daterange input-group"},ee(r,$e).isValid()?ee(r,$e).format("DD-MM-YYYY HH:mm:ss"):null):e.createElement(he,{minDate:ee(t.minDate,$e).isValid()?ee(t.minDate,$e).toDate():null,maxDate:ee(t.maxDate,$e).isValid()?ee(t.maxDate,$e).toDate():null,dateFormat:c,placeholder:t.placeholder?t.placeholder:"Tanggal & Waktu",selected:r,isClearable:!t.disabled&&!t.isReadonly,id:a,className:"form-control",customInput:e.createElement(et,{value:r,name:a}),dayClassName:u,onChange:function(e){e=ee(e,$e).isValid()?ee(e,$e).format($e):null,d(a,e)},peekNextMonth:!0,timeInputLabel:"Waktu : ",showTimeInput:!0,showMonthDropdown:!0,showYearDropdown:!0,todayButton:"Hari ini",dropdownMode:"select",shouldCloseOnSelect:!0})}function at(){return e.createElement(le,{style:{position:"absolute",left:8,top:11},icon:Ye})}function lt(t){const a=o(null==t?void 0:t.name)?"":S(String(null==t?void 0:t.name),"_"),l=X(),n=q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{};let r=x(a,n)||null,i=x("start_"+a,n)||null,s=x("end_"+a,n)||null;const d=t.format?t.format:"HH:mm:ss";if(t.isRange){try{i=ee(i,d).isValid()?ee(i,d):null}catch(e){}try{s=ee(s,d).isValid()?ee(s,d):null}catch(e){}}else try{r=ee(r,d).isValid()?ee(r,d):null}catch(e){}function c(e,t){l({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:ee(t,d).isValid()?ee(t,d).format(d):""}})}return t.isRange?t.disabled||t.isReadonly?e.createElement("div",{className:"input-daterange input-group"},ee(i,d).isValid()?ee(i,d).format(d):"",e.createElement("span",{style:{background:"none"}},"  s/d  "),ee(s,d).isValid()?ee(s,d).format(d):""):e.createElement("div",{className:"input-daterange input-group"},e.createElement(Ce,{value:i,disabled:t.disabled||t.isReadonly,inputIcon:e.createElement(at,null),format:d,onChange:function(e){e=ee(e,d).isValid()?ee(e,d).format(d):null,c("start_"+a,e)}}),e.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),e.createElement(Ce,{value:s,disabled:t.disabled||t.isReadonly,inputIcon:e.createElement(at,null),format:d,onChange:function(e){e=ee(e,d).isValid()?ee(e,d).format(d):null,c("end_"+a,e)}})):t.disabled||t.isReadonly?e.createElement("div",{className:"input-daterange input-group"},ee(r,d).isValid()?ee(r,d).format(d):""):e.createElement(Ce,{value:r,disabled:t.disabled||t.isReadonly,inputIcon:e.createElement(at,null),format:d,onChange:function(e){e=ee(e,d).isValid()?ee(e,d).format(d):null,c(a,e)}})}function nt(a){const[n,r]=t([]),i=o(null==a?void 0:a.name)?"":S(String(null==a?void 0:a.name),"_"),s=X(),c=q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},u=(q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.parameter}),x(i,c)||""),[m,p]=t([]);return l(()=>{let e=[],t=[];try{if(d(a.options))for(let t=0;t<a.options.length;t++){let l=a.options[t];_.isEmpty(l[a.optionValue])||e.push({name:l[a.optionValue]})}}catch(e){}let l=u?String(u).split("|"):[];try{if(d(l))for(let e=0;e<l.length;e++){let a=l[e];_.isEmpty(a)||t.push({name:a})}}catch(e){}r(e),p(_.uniqBy(t,"name"))},[u]),e.createElement(Pe,{minQueryLength:1,noSuggestionsText:"Tidak ada usulan",tags:m,id:i,removeButtonText:"Klik untuk menghapus",delimiters:["Enter","Tab"],placeholderText:a.placeholder?a.placeholder:"Dipisah dengan spasi / enter",allowNew:a.isCreateable,suggestions:n,onDelete:e=>function(e){let t=m.slice(0);t.splice(e,1),p(t)}(e),onValidate:e=>_.findIndex(m,["name",e.name])<0,onFocus:e=>{},onAddition:e=>function(e){let t=[].concat(m,e);var a,l;p(_.uniqBy(t,"name")),a=i,l=_.map(t,"name").join("|"),s({type:"SET_INPUT",payload:{key:S(String(a),"_"),value:l}})}(e)})}function ot(a){const n=o(null==a?void 0:a.name)?"":S(String(null==a?void 0:a.name),"_"),[i,s]=t([]),c=X(),u=q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},p=q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.parameter})||{};let y=x(n,u)||null,h=x("selected_"+n,p)||null,g=[];try{if(d(null==a?void 0:a.options))for(let e=0;e<(null==a?void 0:a.options.length);e++){let t=null==a?void 0:a.options[e];t&&null!=a&&a.isHtml&&(t[null==a?void 0:a.name]=N(String(t[null==a?void 0:a.name]))),g.push(t)}}catch(e){}function f(e){let t=[];if(d(null==a?void 0:a.optionLabel))for(let n=0;n<=(null==a||null===(l=a.optionLabel)||void 0===l?void 0:l.length)-1;n++){var l;let o=e[null==a?void 0:a.optionLabel[n]];o&&t.push(o)}else t.push(e[null==a?void 0:a.optionLabel]);return t}function E(e,t){c({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:t}})}function Y(e){if(n)try{E(n,null!=a&&a.isMultiple?v(e,null==a?void 0:a.optionValue):e[null==a?void 0:a.optionValue])}catch(e){E(n,null)}}function b(){setshow(!i)}return l(()=>{!function(e){let t=null;if(null!=a&&a.isMultiple){var l;t=[];try{if(d(g)&&d(e))for(let l=0;l<(null==g?void 0:g.length);l++)for(let n=0;n<(null==e?void 0:e.length);n++){let o=g[l],r=e[n];String(o[null==a?void 0:a.optionValue])==String(r)&&t.push(o)}}catch(e){}0==(null===(l=t)||void 0===l?void 0:l.length)&&(t=null)}else t=m(g,function(t){return String(t[null==a?void 0:a.optionValue])==String(e)}.bind(this))||{},r(t)&&(t=null);o(t)||c({type:"SET_PARAMETER",payload:{key:"selected_"+n,value:t}})}(y)},[y]),null!=a&&a.disabled||null!=a&&a.isReadonly?f(h):null!=a&&a.withModal?e.createElement(e.Fragment,null,e.createElement(Row,null,!(null!=a&&a.isReadonly)&&e.createElement(Col,{lg:"1",md:"1",sm:"3",xs:"1"},e.createElement(Button,{type:"button",className:"btn btn-icon btn-primary",onClick:b},e.createElement(le,{icon:ne})," Pilih")),e.createElement(Col,{lg:"11",md:"11",sm:"9",xs:"11"},!h||o(h)||r(h)?"":f(h))),e.createElement(Modal,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",show:i,onHide:b},e.createElement(ModalHeader,{closeButton:!0,toggle:b},e.createElement(Modal.Title,null,(null==a?void 0:a.placeholder)||"Pilih")),e.createElement(ModalBody,null,e.createElement(Re,{isClearable:!0,id:n,isSearchable:!0,isHtml:null==a?void 0:a.isHtml,isMulti:null==a?void 0:a.isMultiple,placeholder:null!=a&&a.placeholder?null==a?void 0:a.placeholder:"Pilih",getOptionLabel:f,getOptionValue:e=>e[null==a?void 0:a.optionValue],noOptionsMessage:()=>"Data tidak ditemukan",value:h,onChange:Y,options:g,isDisabled:null==a?void 0:a.disabled})))):e.createElement(Re,{menuPortalTarget:document.body,menuPosition:"fixed",styles:{menuPortal:e=>({...e,fontFamily:"inherit",fontSize:"inherit",zIndex:9999}),menu:e=>({...e,fontFamily:"inherit",fontSize:"inherit",zIndex:"9999 !important"}),multiValueRemove:e=>({...e,color:"#db2828",cursor:"pointer"}),placeholder:e=>({...e,fontFamily:"inherit",fontSize:"inherit"}),multiValue:e=>({...e,background:"none"}),multiValueLabel:e=>({...e,fontFamily:"inherit",fontSize:"inherit"}),option:e=>({...e,fontFamily:"inherit",fontSize:"inherit"}),clearIndicator:(e,t)=>({...e,cursor:"pointer",color:"#db2828"})},className:"tcomponent-select",isClearable:!0,id:n,isSearchable:!0,isHtml:null==a?void 0:a.isHtml,isMulti:null==a?void 0:a.isMultiple,placeholder:null!=a&&a.placeholder?null==a?void 0:a.placeholder:"Pilih",getOptionLabel:f,getOptionValue:e=>e[null==a?void 0:a.optionValue],noOptionsMessage:()=>"Data tidak ditemukan",value:h,onChange:Y,options:g,isDisabled:null==a?void 0:a.disabled})}function rt(a){let[n,o]=t(!1),[d,c]=t(!1),[u,m]=t(!1),[p,y]=t(!1),h=q(e=>e.auth)||{},g=q(e=>e.core.input)||{},f=q(e=>e.core.validation)||[],E=(q(e=>e.core.parameter),q(e=>e.core.filter)||{}),v=X(),[Y,b]=t({}),[_,k]=t({activity:{},role:"",response:[]}),{doAfterSubmit:D,isLoading:T,doSubmit:x,doCancel:C,isReadonly:P,relation:N,id:L,isDelete:A}=a,[z,F]=t(P);return l(()=>{F(P)},[P]),l(()=>{!function(){let e=process.env.REACT_APP_API_URL+"/komentar_respon?",t={data:M({relation:N,id:L}),method:"POST",headers:w(h),url:e};y(!0),J(t).then(e=>{let t=e.data.data||{};A&&(t.response=i(t.response,function(e){return"HAPUS"==e.code})),k(t),y(!1)}).catch(e=>{R(e,v),y(!1)})}()},[]),l(()=>{let e=[];try{e=_.role.split(",")}catch(e){}let t=[];try{t=h.user.role.split(",")}catch(e){}let a=!1,l=!1;for(let e=0;e<t.length;e++)!l&&t[e]&&s(String(t[e]).trim().toLowerCase(),"admin")&&(l=!0,a=!0,v({type:"SET_INPUT",payload:{key:"response_role",value:String(t[e]).trim().toLowerCase()}}));if(!l)for(let l=0;l<e.length;l++)for(let n=0;n<t.length;n++)e[l]&&t[n]&&String(e[l]).trim().toLowerCase()==String(t[n]).trim().toLowerCase()&&!a&&(a=!0,v({type:"SET_INPUT",payload:{key:"response_role",value:String(t[n]).trim().toLowerCase()}}));!r(_.activity)&&_.response.length>0&&a&&z&&!P?(F(!1),v({type:"SET_INPUT",payload:{key:"activity",value:_.activity.code}})):F(!0)},[_]),l(()=>{u&&!r(f)&&m(!1)},[f]),l(()=>{!u||T||n||(m(!1),r(f)&&D&&D())},[n,f,T]),p?e.createElement(Ae,null):e.createElement(Ge,{isLoading:T||u},e.createElement(K,null,e.createElement(K.Body,null,e.createElement(K.Title,{tag:"h5"},_.activity.name||"Alur tidak ditemukan"),e.createElement(K.Text,null,!z&&e.createElement(H,null,e.createElement(U,{lg:"6"},e.createElement(O.Group,{as:H},e.createElement(U,{lg:"3"},e.createElement(O.Label,null,"Respon ",e.createElement("span",{className:"text-danger"},"*"))),e.createElement(U,{lg:"9"},e.createElement(ot,{name:"response_activity",options:_.response,separator:" | ",optionLabel:["name"],optionValue:"code"}))),e.createElement(O.Group,{as:H},e.createElement(U,{lg:"3"},e.createElement(O.Label,null,"Lampiran")),e.createElement(U,{lg:"5"},e.createElement(Fe,{value:g.attachment,name:"response_attachment",id:"response_attachment"})))),e.createElement(U,{lg:"6"},e.createElement(O.Group,{as:H},e.createElement(U,{lg:"3",style:{marginBottom:35}},e.createElement(O.Label,null,"Komentar")),e.createElement(U,{lg:"9"},e.createElement(Ve,{type:"textarea",required:!0,name:"response_comment",id:"response_comment",rows:"3"}))))),e.createElement(Qe,{data:Y,isLoading:d,name:S(a.relation,"_"),primaryKey:"id",isSearchable:!0,isColumnsSearchable:!0,onReload:function(){let e=process.env.REACT_APP_API_URL+"/komentar?",t=["user","role","activity","comment","due_datetime","start_datetime","end_datetime"],l={};try{l=I(E,t,S(a.relation,"_"))}catch(e){}let n={relation:N,id:L,...l},o={data:M(n),method:"POST",headers:w(h),url:e};c(!0),J(o).then(e=>{b(e.data.data),c(!1)}).catch(e=>{R(e,v),c(!1)})},columns:[{Header:"Nama",id:"user",accessor:e=>e.user},{Header:"Jabatan",id:"role",accessor:e=>e.role},{Header:"Aktifitas",id:"activity",accessor:e=>e.activity},{Header:"Respon",id:"response",accessor:e=>e.response},{Header:"Komentar",id:"comment",accessor:e=>e.comment},{Header:"Tenggat",id:"due_datetime",accessor:e=>e.due_datetime&&ee(e.due_datetime).format("DD-MM-YYYY HH:mm")},{Header:"Mulai",id:"start_datetime",accessor:e=>e.start_datetime&&ee(e.start_datetime).format("DD-MM-YYYY HH:mm")},{Header:"Selesai",id:"end_datetime",accessor:e=>e.end_datetime&&ee(e.end_datetime).format("DD-MM-YYYY HH:mm")},{Header:"Lampiran",id:"attachment",accessor:t=>e.createElement(Fe,{value:t.attachment,isReadonly:!0})}]})),e.createElement(H,{className:"mt-2"},e.createElement(U,null,e.createElement(V,{type:"button",className:"btn btn-icon btn-primary float-left",onClick:function(e){C&&C()}},"Kembali"),!z&&e.createElement(V,{type:"button",className:"btn btn-icon btn-primary float-right",onClick:function(e){!g.response_activity||r(g.response_activity)?v({type:"SET_MESSAGE",payload:"Respon wajib diisi"}):(m(!0),o(!0),setTimeout(()=>o(!1),1e3),x&&x())}},"Proses"))))))}function it(t){return e.createElement(A,null,e.createElement(A.Text,{style:{background:"none"}},e.createElement(le,{icon:ge})),e.createElement(O.Control,{style:{borderLeft:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:t.disabled,name:t.name,value:t.value||"",onClick:t.onClick}))}function st(t){const a=o(null==t?void 0:t.name)?"":S(String(null==t?void 0:t.name),"_"),l=X(),n=q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{};let r=x(a,n)||null,i=x("start_"+a,n)||null,s=x("end_"+a,n)||null;if(t.isRange){try{i=ee(i,"YYYY").isValid()?ee(i,"YYYY").toDate():null}catch(e){}try{s=ee(s,"YYYY").isValid()?ee(s,"YYYY").toDate():null}catch(e){}}else try{r=ee(r,"YYYY").isValid()?ee(r,"YYYY").toDate():null}catch(e){}function d(e,t){l({type:"SET_INPUT",payload:{key:S(String(e),"_"),value:ee(t,"YYYY").isValid()?ee(t,"YYYY").format("YYYY"):""}})}return t.isRange?t.disabled||t.isReadonly?(ee(i,"YYYY").isValid()?ee(i,"YYYY").format("YYYY"):"")+" - "+(ee(s,"YYYY").isValid()?ee(s,"YYYY").format("YYYY"):""):e.createElement("div",{className:"input-daterange input-group"},e.createElement(he,{minDate:ee(t.minDate,"YYYY").isValid()?ee(t.minDate,"YYYY").toDate():null,maxDate:ee(t.maxDate,"YYYY").isValid()?ee(t.maxDate,"YYYY").toDate():null,dateFormat:"yyyy",placeholder:t.placeholder?t.placeholder:"Tanggal",selected:i,isClearable:!t.disabled&&!t.isReadonly,customInput:e.createElement(it,{value:i,name:"start_"+a}),onChange:function(e){e=ee(e,"YYYY").isValid()?ee(e,"YYYY").format("YYYY"):null,d("start_"+a,e)},selectsStart:!1,peekNextMonth:!1,showMonthDropdown:!1,showYearDropdown:!1,showYearPicker:!0,name:"start_"+a,todayButton:null,dropdownMode:"select",disabled:t.disabled||t.isReadonly,readOnly:t.disabled||t.isReadonly,startDate:i,endDate:s,shouldCloseOnSelect:!1}),e.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),e.createElement(he,{minDate:ee(i,"YYYY").isValid()?ee(i,"YYYY").toDate():ee(t.minDate,"YYYY").isValid()?ee(t.minDate,"YYYY").toDate():null,maxDate:ee(t.maxDate,"YYYY").isValid()?ee(t.maxDate,"YYYY").toDate():null,dateFormat:"yyyy",placeholder:t.placeholder?t.placeholder:"Tanggal",selected:s,isClearable:!t.disabled&&!t.isReadonly,name:"end_"+a,selectsEnd:!0,customInput:e.createElement(it,{value:s,name:"end_"+a}),onChange:function(e){e=ee(e,"YYYY").isValid()?ee(e,"YYYY").format("YYYY"):null,d("end_"+a,e)},selectsStart:!1,peekNextMonth:!1,showMonthDropdown:!1,showYearDropdown:!1,showYearPicker:!0,todayButton:null,dropdownMode:"select",startDate:i,endDate:s,disabled:t.disabled||t.isReadonly,readOnly:t.disabled||t.isReadonly,shouldCloseOnSelect:!1})):t.disabled||t.isReadonly?ee(r,"YYYY").isValid()?ee(r,"YYYY").format("YYYY"):"":e.createElement(he,{minDate:ee(t.minDate,"YYYY").isValid()?ee(t.minDate,"YYYY").toDate():null,maxDate:ee(t.maxDate,"YYYY").isValid()?ee(t.maxDate,"YYYY").toDate():null,dateFormat:"yyyy",placeholder:t.placeholder?t.placeholder:"Tanggal",customInput:e.createElement(it,{value:r,name:a}),selected:r,isClearable:!t.disabled&&!t.isReadonly,id:a,className:"form-control",onChange:function(e){e=ee(e,"YYYY").isValid()?ee(e,"YYYY").format("YYYY"):null,d(a,e)},selectsStart:!1,peekNextMonth:!1,showMonthDropdown:!1,showYearDropdown:!1,showYearPicker:!0,todayButton:null,dropdownMode:"select",disabled:t.disabled||t.isReadonly,readOnly:t.disabled||t.isReadonly,shouldCloseOnSelect:!1})}let dt;ee();const ct=Ie(dt||(dt=(e=>e)`
   position: absolute;
   top: 50%;
   left: 50%;
   margin-top: -25px;
   margin-left: -50px;
`));function ut(){return e.createElement(ye,{color:"#000",css:ct,size:50})}function mt(a){let[l,n]=t(!1);const r=o(null==a?void 0:a.name)?"":S(String(null==a?void 0:a.name),"_"),i=X(),s=q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},d=(q(e=>{var t;return null===(t=e.core)||void 0===t?void 0:t.parameter}),x(r,s)||"");function c(){n(!l)}return e.createElement(e.Fragment,null,l?e.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:999}},e.createElement(Ne,{color:d,onChangeComplete:function(e){var t;t=e.hex,i({type:"SET_INPUT",payload:{key:S(String(r),"_"),value:t}}),function(e,t){i({type:"SET_PARAMETER",payload:{key:S(String(e),"_"),value:t}})}("selected_"+r,e)}}),e.createElement(V,{style:{marginTop:10,backgroundColor:d,border:0},className:"btn btn-primary",onClick:c,type:"button"},"Pilih")):e.createElement(V,{style:{zIndex:0,backgroundColor:d,border:0},className:"btn btn-primary",onClick:c,type:"button"},"Pilih"))}function pt(a){let[n,s]=t({}),[c,u]=t(!1),{isMultiple:m,optionLabel:p,separator:y,primaryKey:h,id:g,param:f}=a,E=S(a.name,"_"),v=S("selected_"+E,"_"),b=X(),_=q(e=>e.auth)||{},k=q(e=>e.core.input)||{},D=q(e=>e.core.filter)||{},T=q(e=>e.core.parameter)||{};return l(()=>{let e=process.env.REACT_APP_API_URL+"/"+a.url,{keyword:t}=I(D,[],E),l=M({pkey:h,selected:[g],keyword:t,load:1,page:1,...f}),n={method:"POST",headers:w(_),url:e,data:l};u(!0),J(n).then(e=>{s(e.data.data.data[0]),u(!1)}).catch(e=>{u(!1)})},[g]),e.createElement(e.Fragment,null,!n||o(n)||r(n)?c?e.createElement(Ae,null):"":[function(e){if(d(p)){let t=[];y=y||" | ";for(let a=0;a<=p.length-1;a++)e[p[a]]&&!o(e[p[a]])&&t.push(e[p[a]]);return t.join(y)}return e[p]?e[p]:""}(n),!a.isReadonly&&e.createElement(V,{variant:"link",onClick:function(e){if(s(null),Y(a.optionValue)&&Object.keys(a.optionValue).map(function(e,t){b({type:"SET_INPUT",payload:{key:a.optionValue[e],value:null}})}),m){let t=i(x(E,k),function(t){return t!=e}),a=i(x(v,k),function(t){return t!=e}),l=i(x(v,T),function(t){return t[h]!=e});b({type:"SET_INPUT",payload:{key:E,value:t}}),b({type:"SET_INPUT",payload:{key:v,value:a}}),b({type:"SET_PARAMETER",payload:{key:v,value:l}})}else b({type:"SET_INPUT",payload:{key:E,value:null}}),b({type:"SET_INPUT",payload:{key:v,value:null}}),b({type:"SET_PARAMETER",payload:{key:v,value:{}}})}.bind(null,n[h]),style:{borderRadius:100,zIndex:0}},e.createElement(le,{color:"#db2828",icon:re}))])}function yt(n){let{isMultiple:c,defaultValue:u,optionLabel:m,separator:y}=n;const h=X();let f=q(e=>e.auth)||{},b=q(e=>e.core.input)||{},_=q(e=>e.core.filter)||{},k=q(e=>e.core.parameter)||{},[D,T]=t(!1),[C,R]=t(!1),[N,z]=t(!1),[F,j]=t(!1),[B,W]=t({}),[K,G]=t(c?[]:{}),[Q,Z]=t(0),[$,ee]=t(!1),[te,ae]=t(1),oe=S(n.name,"_"),re=S("selected_"+oe,"_"),[ie,se]=t(n.label?n.label:x(oe,b)),de=a(),ce=we(de),[ue,ye]=t([]),[he,ge]=t({}),fe=n.primaryKey?n.primaryKey:"id";function Ee(e){let t=[];if(y=y||" | ",d(m)){for(let a=0;a<=m.length-1;a++)e[m[a]]&&!o(e[m[a]])&&t.push(e[m[a]]);return t.join(y)}return e[m]?e[m]:""}let ve=[{Header:"#",id:oe+"_check",Cell:t=>{let a=q(e=>e.core.input),l=!1,r=x(re,a);try{l=c?g(r,function(e){return e===t.row.original[fe]})>-1:r===t.row.original[fe]}catch(e){}return t.row.original[fe]?e.createElement(O.Check,{inline:!0,id:S(oe+"_check_"+t.row.original[fe],"_"),name:S(oe+"_check_"+t.row.original[fe],"_"),style:{zIndex:100},type:c?"checkbox":"radio",value:1,checked:l,disabled:n.isReadonly,onChange:()=>function(e,t,a=!1){let l=e.row.original||{};if(c){let e=[],n=x(re,t);a?e=i(n,e=>e&&l&&String(e)!=String(l[fe]))||[]:(e=n||[],d(e)||(e=[]),l[fe]&&e.push(l[fe])),e=E(e),e=i(e,e=>!p(e)&&!o(e))||[],h({type:"SET_INPUT",payload:{key:re,value:e}})}else h({type:"SET_INPUT",payload:{key:re,value:l[fe]}})}(t,a,l)}):null}},{Header:"Keterangan",id:"label",accessor:e=>Ee(e)}];function Ye(){$&&_e()}P(function(){if(c){let e=i(x(re,b),function(e){return!p(e)&&!o(e)})||[];if(e.length>0){let t=process.env.REACT_APP_API_URL+"/"+n.url,{keyword:a}=I(_,[],oe),l=M({pkey:fe,selected:e,keyword:a,load:e.length,page:1,...n.parameter}),o={method:"POST",headers:w(f),url:t,data:l};z(!0),J(o).then(e=>{h({type:"SET_PARAMETER",payload:{key:re,value:e.data.data.data}}),ke(e.data.data.data),z(!1)}).catch(e=>{z(!1)})}else h({type:"SET_PARAMETER",payload:{key:re,value:null}})}else{let e=x(re,b)||null;if(e){let t=process.env.REACT_APP_API_URL+"/"+n.url,{keyword:a}=I(_,[],oe),l=M({pkey:fe,selected:[e],keyword:a,load:1,page:1,...n.parameter}),o={method:"POST",headers:w(f),url:t,data:l};z(!0),J(o).then(e=>{let t=e.data.data.data[0]||{};h({type:"SET_PARAMETER",payload:{key:re,value:t}}),ke(t),z(!1)}).catch(e=>{z(!1)})}else h({type:"SET_PARAMETER",payload:{key:re,value:null}})}},400,[x(re,b)]),P(Ye,400,[x("keyword_"+oe,_),x("page_"+oe,_),x("load_"+oe,_)]);let be=e.useMemo(()=>ve,[]);function _e(){let e=process.env.REACT_APP_API_URL+"/"+n.url,{page:t,load:a,keyword:l,sorted:o,search:r}=I(_,[],oe),i=M({pkey:fe,page:t,load:a,keyword:l,sorted:o,search:r,...n.parameter}),s={method:"POST",headers:w(f),url:e,data:i};return j(!0),J(s).then(e=>{let t=e.data||{};if(void 0!==t.data.data){Z(t.data.meta.last_page);try{ye(t.data.data||[])}catch(e){}try{ge(t.data.meta||{})}catch(e){}}else if(void 0!==t.data){Z(t.meta.last_page);try{ye(t.data||[])}catch(e){}try{ge(t.meta||{})}catch(e){}}j(!1)}).catch(e=>{j(!1)})}function ke(e){c?function(e){if(Y(n.optionValue))Object.keys(n.optionValue).map(function(t,a){let l=n.optionValue[t],o=null;if(e)try{o=E(v(e,t))}catch(e){}s(x(l,b),o)||h({type:"SET_INPUT",payload:{key:l,value:o}})});else{let t=oe,a=null;e&&(a=E(v(e,fe))),s(x(t,b),a)||h({type:"SET_INPUT",payload:{key:t,value:a}})}}(e):function(e){if(Y(n.optionValue))Object.keys(n.optionValue).map(function(t,a){let l=n.optionValue[t],o=null;if(e)try{o=e[t]}catch(e){}s(x(l,b),o)||h({type:"SET_INPUT",payload:{key:l,value:o}})});else{let t=oe,a=null;e&&(a=e[fe]),s(x(t,b),a)||h({type:"SET_INPUT",payload:{key:t,value:a}})}}(e)}l(()=>{s(n.parameter,B)||(W(n.parameter),Ye()),ce!=D&&T(ce)}),l(()=>{h({type:"SET_FILTER",payload:{key:S("show_"+oe,"_"),value:$}})},[$]),l(function(){if(D){let e=null;try{c?(e=v(u,"value"),e=i(e,e=>e)||[]):e=u.value||null}catch(e){}let t=x(re,b)||null;s(e,t)||(p(e)&&!p(t)?h({type:"SET_INPUT",payload:{key:re,value:t}}):!p(e)&&p(t)?h({type:"SET_INPUT",payload:{key:re,value:e}}):p(e)||p(t)?h({type:"SET_INPUT",payload:{key:re,value:null}}):h({type:"SET_INPUT",payload:{key:re,value:e}}))}},[D]),l(()=>{let e=null;try{e=c?i(v(u,"value"),e=>e)||null:u.value||null}catch(e){}e&&h({type:"SET_INPUT",payload:{key:re,value:e}})},[]);let De=[],Te=x(re,b);try{De=c?d(Te)?Te:[]:Te?[Te]:[]}catch(e){}let Se=x(re,k),xe=null;try{xe=c?d(Se)?Se:[]:Y(Se)?Se:{}}catch(e){}return e.createElement("div",{ref:de},e.createElement(H,null,!n.isReadonly&&e.createElement(U,{lg:"2",md:"2",sm:"4",xs:"12"},e.createElement(V,{style:{zIndex:0},variant:"primary",type:"button",className:"btn-icon",onClick:function(){h({type:"SET_FILTER",payload:{key:S("page_"+oe,"_"),value:1}}),ee(e=>!e),_e()}},e.createElement(le,{icon:ne}))),e.createElement(U,{lg:"10",md:"10",sm:"8",xs:"12"},N?e.createElement(Ae,null):De.map((t,a)=>e.createElement(e.Fragment,null,e.createElement(pt,{isReadonly:n.isReadonly,name:oe,optionLabel:m,separator:y,param:n.parameter,url:n.url,primaryKey:fe,isMultiple:c,id:t}),n.isReadonly?De.length-1==a?null:", ":null)))),e.createElement(L,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",show:$},e.createElement(L.Header,null,e.createElement(L.Title,null,n.placeholder||"Pilih")),e.createElement(L.Body,null,e.createElement(Ge,{isLoading:F},e.createElement("div",null,e.createElement(A,{style:{marginBottom:12}},e.createElement(A.Text,{style:{background:"none"}},e.createElement(le,{icon:ne})),e.createElement(O.Control,{style:{borderLeft:"none",zIndex:0},className:"form-control",value:x("keyword_"+oe,_),onChange:e=>{h({type:"SET_MULTI_FILTER",payload:{["keyword_"+oe]:e.target.value,["page_"+oe]:1}})},type:"text",id:"search_"+re,name:"search_"+oe,placeholder:"Pencarian"}),e.createElement(V,{style:{zIndex:0},variant:"primary",onClick:Ye,type:"button",disabled:n.isLoading},e.createElement(le,{icon:me,spin:n.isLoading}))),e.createElement(Je,{name:oe,columns:be,data:ue,primaryKey:fe,isColumnsSearchable:!0,fetchData:Ye,loading:F,customPageTotal:he&&!r(he)?he.total:0,customPageCount:he&&!r(he)?he.last_page:1,customPageSize:he&&!r(he)?he.per_page:_["load_"+oe]?_["load_"+oe]:5,customPageIndex:he&&!r(he)?he.current_page:_["page_"+oe]?_["page_"+oe]:1}))),!F&&e.createElement(H,{style:{marginTop:12}},e.createElement(U,{lg:"9",md:"8",sm:"6",xs:"12"},e.createElement("p",{style:{marginBottom:"4px"}},"Dipilih : "),N&&e.createElement(Ae,null),e.createElement("ul",null,c?xe&&xe.map((t,a)=>e.createElement("li",null,o(t)||r(t)?"":Ee(t))):xe&&e.createElement("li",null,o(xe)||r(xe)?"":Ee(xe)))),e.createElement(U,{lg:"3",md:"4",sm:"6",xs:"12"},e.createElement(V,{variant:"primary",type:"button",className:"btn-icon",style:{float:"right"},onClick:function(){ee(!1)}},e.createElement(le,{icon:pe})))))))}function ht(t){let a={chart:{width:"auto"}},l=t.series||[];if((o(t.series)||p(t.series)||!d(t.series))&&d(t.options)&&!o(t.optionValue)&&!p(t.optionValue))for(var n=0;n<t.options.length;n++)if(c(t.optionValue))l.push(t.options[n][t.optionValue]);else if(b(t.optionValue)){let e={};Object.keys(t.optionValue).map((a,l)=>{e[t.optionValue[a]]=t.options[n][a]}),l.push(e)}else if(d(t.optionValue)){let e=[];for(var r=0;r<t.optionValue.length;r++)e.push(t.options[n][t.optionValue[r]]);l.push(e)}o(t.dataLabels)||p(t.dataLabels)||!b(t.dataLabels)||(a.dataLabels=t.dataLabels);let i=" ";if(o(t.separator)||p(t.separator)||!b(t.separator)||(i=t.separator),o(t.labels)||p(t.labels)||!d(t.labels)){if(d(t.options)&&!o(t.optionLabel)&&!p(t.optionLabel))for(a.labels=[],n=0;n<t.options.length;n++)if(c(t.optionLabel))a.labels.push(t.options[n][t.optionLabel]);else if(d(t.optionLabel)){let e=[];for(r=0;r<t.optionLabel.length;r++)e.push(t.options[n][t.optionLabel[r]]);a.labels.push(e.join(i))}}else a.labels=t.labels;if(o(t.colors)||p(t.colors)||!d(t.colors)){if(d(t.options)&&!o(t.optionColor)&&!p(t.optionColor)&&c(t.optionColor))for(a.colors=[],n=0;n<t.options.length;n++)a.colors.push(t.options[n][t.optionColor])}else a.colors=t.colors;return o(t.locales)||p(t.locales)||!d(t.locales)||(a.chart.locales=t.locales),o(t.type)||p(t.type)||!c(t.type)||(a.chart.type=t.type),o(t.animations)||p(t.animations)||!b(t.animations)||(a.chart.animations=t.animations),o(t.background)||p(t.background)||!c(t.background)||(a.chart.background=t.background),o(t.brush)||p(t.brush)||!b(t.brush)||(a.chart.brush=t.brush),o(t.defaultLocale)||p(t.defaultLocale)||!c(t.defaultLocale)||(a.chart.defaultLocale=t.defaultLocale),o(t.dropShadow)||p(t.dropShadow)||!b(t.defaultLocale)||(a.chart.dropShadow=t.dropShadow),o(t.fontFamily)||p(t.fontFamily)||!c(t.fontFamily)||(a.chart.fontFamily=t.fontFamily),o(t.foreColor)||p(t.foreColor)||!c(t.foreColor)||(a.chart.foreColor=t.foreColor),o(t.group)||p(t.group)||!c(t.group)||(a.chart.group=t.group),o(t.events)||p(t.events)||!b(t.events)||(a.chart.events=t.events),o(t.height)||p(t.height)||!c(t.height)&&!y(t.height)||(a.chart.height=t.height),o(t.id)||p(t.id)||!c(t.id)||(a.chart.id=S(t.id)),o(t.name)||p(t.name)||!c(t.name)||(a.chart.id=S(t.name)),o(t.offsetX)||p(t.offsetX)||!y(t.offsetX)||(a.chart.offsetX=t.offsetX),o(t.offsetY)||p(t.offsetY)||!y(t.offsetY)||(a.chart.offsetY=t.offsetY),o(t.parentHeightOffset)||p(t.parentHeightOffset)||!y(t.parentHeightOffset)||(a.chart.parentHeightOffset=t.parentHeightOffset),o(t.redrawOnParentResize)||p(t.redrawOnParentResize)||!f(t.redrawOnParentResize)||(a.chart.redrawOnParentResize=t.redrawOnParentResize),o(t.redrawOnWindowResize)||p(t.redrawOnWindowResize)||!f(t.redrawOnWindowResize)||(a.chart.redrawOnWindowResize=t.redrawOnWindowResize),o(t.selection)||p(t.selection)||!b(t.selection)||(a.chart.selection=t.selection),o(t.sparkline)||p(t.sparkline)||!f(t.sparkline)||(a.chart.sparkline=t.sparkline),o(t.stacked)||p(t.stacked)||!f(t.stacked)||(a.chart.stacked=t.stacked),o(t.stackType)||p(t.stackType)||!c(t.stackType)||(a.chart.stackType=t.stackType),o(t.toolbar)||p(t.toolbar)||!b(t.toolbar)||(a.chart.toolbar=t.toolbar),o(t.width)||p(t.width)||!c(t.width)&&!y(t.width)||(a.chart.width=t.width),o(t.zoom)||p(t.zoom)||!b(t.zoom)||(a.chart.zoom=t.zoom),o(t.fill)||p(t.fill)||!b(t.fill)||(a.fill=t.fill),o(t.forecastDataPoints)||p(t.forecastDataPoints)||!b(t.forecastDataPoints)||(a.forecastDataPoints=t.forecastDataPoints),o(t.grid)||p(t.grid)||!b(t.grid)||(a.grid=t.grid),o(t.legend)||p(t.legend)||!b(t.legend)||(a.legend=t.legend),o(t.markers)||p(t.markers)||!b(t.markers)||(a.markers=t.markers),o(t.noData)||p(t.noData)||!b(t.noData)||(a.noData=t.noData),o(t.states)||p(t.states)||!b(t.states)||(a.states=t.states),o(t.stroke)||p(t.stroke)||!b(t.stroke)||(a.stroke=t.stroke),o(t.subtitle)||p(t.subtitle)||!b(t.subtitle)||(a.subtitle=t.subtitle),o(t.theme)||p(t.theme)||!b(t.theme)||(a.theme=t.theme),o(t.title)||p(t.title)||!b(t.title)||(a.title=t.title),o(t.tooltip)||p(t.tooltip)||!b(t.tooltip)||(a.tooltip=t.tooltip),o(t.xaxis)||p(t.xaxis)||!b(t.xaxis)||(a.xaxis=t.xaxis),o(t.yaxis)||p(t.yaxis)||!b(t.yaxis)||(a.yaxis=t.yaxis),o(t.plotOptions)||p(t.plotOptions)||!b(t.plotOptions)||(a.plotOptions={[a.chart.type]:t.plotOptions}),e.createElement(Le,{options:a,series:l,type:a.chart.type})}function gt(t){return e.createElement(ht,Object.assign({},t,{type:"line"}))}function ft(t){return e.createElement(ht,Object.assign({},t,{type:"bar"}))}function Et(t){return e.createElement(ht,Object.assign({},t,{type:"area"}))}function vt(t){return e.createElement(ht,Object.assign({},t,{type:"candlestick"}))}function Yt(t){return e.createElement(ht,Object.assign({},t,{type:"heatmap"}))}function bt(t){return e.createElement(ht,Object.assign({},t,{type:"treemap"}))}function _t(t){return e.createElement(ht,Object.assign({},t,{type:"pie"}))}function kt(t){return e.createElement(ht,Object.assign({},t,{type:"donut"}))}function Dt(t){return e.createElement(ht,Object.assign({},t,{type:"radar"}))}function Tt(t){return e.createElement(ht,Object.assign({},t,{type:"rangeBar"}))}function St(t){return e.createElement(ht,Object.assign({},t,{type:"bubble"}))}function xt(t){return e.createElement(ht,Object.assign({},t,{type:"polarArea"}))}function Mt(t){return e.createElement(ht,Object.assign({},t,{type:"radialBar"}))}function wt(t){return e.createElement(ht,Object.assign({},t,{type:"scatter"}))}function Ct(t){return e.createElement(ht,Object.assign({},t,{type:"boxPlot"}))}function Pt(t){return e.createElement(ht,Object.assign({},t,{type:"histogram"}))}export{Et as ChartArea,ft as ChartBar,Ct as ChartBoxPlot,St as ChartBubble,vt as ChartCandleStick,kt as ChartDonut,Yt as ChartHeatMap,Pt as ChartHistogram,gt as ChartLine,_t as ChartPie,xt as ChartPolarArea,Dt as ChartRadar,Mt as ChartRadial,Tt as ChartRange,wt as ChartScatter,bt as ChartTreeMap,Qe as DataTable,Je as DataTableContainer,Ze as Field,He as InputChoose,mt as InputColor,je as InputDate,tt as InputDateTime,Fe as InputFile,Be as InputNumber,ot as InputSelect,yt as InputSelectFetch,nt as InputTag,Ve as InputText,lt as InputTime,rt as InputWorkflow,st as InputYear,Ae as Loading,Ge as LoadingOverlay,ut as LoadingPage};
//# sourceMappingURL=index.modern.js.map
