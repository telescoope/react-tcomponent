function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react"),n=e(t);require("react-phone-number-input/style.css"),require("bootstrap/dist/css/bootstrap.min.css"),require("dropzone/dist/min/dropzone.min.css"),require("video-react/dist/video-react.css"),require("rc-time-picker/assets/index.css"),require("react-datepicker/dist/react-datepicker.css"),require("react-input-range/lib/css/index.css");var a=e(require("cleave.js/react")),l=require("lodash"),r=e(require("react-phone-number-input")),o=e(require("jodit-react")),i=e(require("mousetrap")),s=require("tcomponent"),u=e(require("html-react-parser")),c=require("react-bootstrap");require("@wiris/mathtype-generic");var d=e(require("react-contenteditable")),m=require("react-redux"),p=e(require("axios")),f=e(require("react-dropzone-component")),y=require("video-react"),h=require("moment"),g=e(h),v=require("react-doc-viewer"),E=e(v),b=require("@fortawesome/react-fontawesome"),Y=require("@fortawesome/free-solid-svg-icons"),S=e(require("react-spinners/PuffLoader")),D=e(require("react-datepicker")),k=require("@fortawesome/free-regular-svg-icons"),N=e(require("react-input-range")),w=e(require("react-loading-overlay")),A=e(require("styled-components")),T=require("react-table"),x=require("react-is-visible"),C=e(require("rc-time-picker")),P=e(require("react-tag-autocomplete")),I=e(require("react-select")),M=require("@emotion/react"),R=require("react-color"),F=e(require("react-apexcharts"));function U(e){var p=l.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),f=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},y=s.findArrayName(p,f)||"",h=m.useDispatch(),g=l.isUndefined(null==e?void 0:e.type)?"":String(null==e?void 0:e.type),v="text"===g||l.isUndefined(g)?"search":g,E=t.useState(!1),b=E[0],Y=E[1],_=t.useState(""),S=_[0],D=_[1],k=(null==e?void 0:e.placeholder)||"",N={};"nik"==v.toLowerCase()?(N={delimiter:" ",blocks:[2,2,2,6,4],numericOnly:!0},k=(null==e?void 0:e.placeholder)||"Nomor Induk Kependudukan"):"kip"==v.toLowerCase()?(N={delimiter:" ",blocks:[4,4,4,4]},k=(null==e?void 0:e.placeholder)||"Kartu Indonesia Pintar"):"npwp"==v.toLowerCase()?(N={delimiters:[".",".",".","-","."],blocks:[2,3,3,1,3,3],numericOnly:!0},k=(null==e?void 0:e.placeholder)||"Nomor Pokok Wajib Pajak"):"postcode"==v.toLowerCase()?(N={blocks:[5],delimiter:" ",numericOnly:!0},k=(null==e?void 0:e.placeholder)||"Kode Pos"):"phone"==v.toLowerCase()&&(k=(null==e?void 0:e.placeholder)||"Telepon");var w=t.useState({readonly:!1,placeholder:" ",toolbarButtonSize:"small"}),A=t.useRef(),T=t.useRef(),x=t.useRef();function C(t){t.preventDefault();var n=t.target.value?String(t.target.value):"";"nik"!=g&&"kip"!=g&&"npwp"!=g&&"postcode"!=g||(n=n.replace(/\D/g,"")),null!=e&&e.maxlength&&(n=n.substring(0,null==e?void 0:e.maxlength)),I(n)}function P(){Y(!1)}function I(e){var t;t=e,h({type:"SET_INPUT",payload:{key:s.slug(String(p),"_"),value:t}})}return t.useEffect(function(){l.isUndefined(null==e?void 0:e.value)||I(null==e?void 0:e.value)},[null==e?void 0:e.value]),t.useEffect(function(){if(null!=e&&e.disableCopy||null!=e&&e.disablePaste||null!=e&&e.disableSelectAll){var t=[];null!=e&&e.disableCopy&&(t.push("command+c"),t.push("ctrl+c")),null!=e&&e.disablePaste&&(t.push("command+v"),t.push("ctrl+v")),null!=e&&e.disableSelectAll&&(t.push("command+a"),t.push("ctrl+a")),t.length>0&&i.bind(t,function(){return!1})}if("equation"==g)try{var n={};n.target=x.current,n.toolbar=A.current;var a=new window.WirisPlugin.GenericIntegration(n);a.init(),a.listeners.fire("onTargetReady",{}),WirisPlugin.currentInstance=a}catch(e){}},[]),p?null!=e&&e.disabled||null!=e&&e.isReadonly?!l.isEmpty(y)&&u(String(y)):"nik"==g||"kip"==g||"npwp"==g||"postcode"==g?n.createElement(a,{placeholder:k,id:null==e?void 0:e.id,name:p,value:y,onChange:C,options:N,className:"form-control"}):"textarea"==g?n.createElement("textarea",{id:null==e?void 0:e.id,rows:(null==e?void 0:e.rows)||3,className:"form-control no-resize mousetrap",onChange:C,name:p,value:y,placeholder:k}):"phone"==g?n.createElement(r,{international:!0,defaultCountry:"ID",numberInputProps:{className:"form-control"},value:y?String(y):"",onChange:I}):"texteditor"==g?n.createElement(n.Fragment,null,n.createElement("div",{className:"form-control",style:{minHeight:32},onClick:function(){D(""),Y(!0)}},l.isEmpty(y)?"":u(String(y))),n.createElement(c.Modal,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",show:b,onHide:P},n.createElement(c.Modal.Body,null,n.createElement(o,{key:(null==e?void 0:e.name)+"_editor",id:null==e?void 0:e.id,ref:T,value:l.isEmpty(y)?"":String(y),config:w,tabIndex:1,onChange:function(e){return D(e)}})),n.createElement(c.Modal.Footer,{style:{justifyContent:"space-between"}},n.createElement(c.Button,{onClick:P,variant:"secondary"},"Kembali"),n.createElement(c.Button,{onClick:function(){I(S),P()},variant:"primary"},"Simpan")))):"equation"==g?n.createElement(c.InputGroup,null,n.createElement(c.InputGroup.Text,null,n.createElement("div",{ref:A})),n.createElement(d,{suppressContentEditableWarning:!0,className:"form-control",innerRef:x,onChange:function(e){window.WirisPlugin.Parser.endParse(e.target.value),I(e.target.value)},html:y||""})):n.createElement(c.Form.Control,{id:null==e?void 0:e.id,type:v,placeholder:k,value:y,onChange:C,name:p,className:"form-control mousetrap"}):"Name is Required"}function L(){return(L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function V(e,t){return t||(t=e.slice(0)),e.raw=t,e}function O(){return n.createElement(S,{color:"#000",size:25})}var H=h;function z(e){var t=[{uri:process.env.REACT_APP_API_URL+"/file/stream/"+e.file}];try{if(l.isEqual(e.type.type.substring(0,5),"video"))return n.createElement(y.Player,{key:e.file,autoPlay:!1,src:process.env.REACT_APP_API_URL+"/file/stream/"+e.file})}catch(e){}return n.createElement(E,{style:{width:"100%",height:480},pluginRenderers:v.DocViewerRenderers,documents:t})}function B(e){var a=e.accept?e.accept:"image/*, video/*, audio/*, .docx, .xlsx, .pptx, .csv, .pdf",r=m.useSelector(function(e){return e.core.input}),o=m.useSelector(function(e){return e.core.parameter}),i=t.useState({}),u=i[0],d=i[1],y=t.useState([]),h=y[0],g=y[1],v=t.useState(!1),E=v[0],_=v[1],S=m.useSelector(function(e){return e.auth}),D=m.useDispatch();function k(e){if(l.isString(e)&&!l.isEmpty(e)&&"null"!=e&&!function(e){var t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}(e)&&l.isEmpty(u[e])){var t=process.env.REACT_APP_API_URL+"/file/info",n=s.secureData({token_file:e}),a={method:"POST",headers:s.setAuthHeader(S),url:t,data:n};_(!0);try{p(a).then(function(t){t.data.success&&(u[e]=t.data.data,d(u),P[e]=!1,I(P)),_(!1)}).catch(function(t){u[e]="",d(u),P[e]=!1,I(P)})}catch(e){}}}function N(e){return l.isString(e)&&!l.isEmpty(e)&&"null"!=e}function w(e){return l.filter(e,N)||[]}function A(e){return w(String(e).split("|"))}function T(e){var t;I(L({},P,((t={})[e]=!P[e],t)))}function x(e){e!=o.openFile&&D({type:"SET_PARAMETER",payload:{key:"openFile",value:e}})}t.useEffect(function(){var t=e.value?e.value:s.findArrayName(e.name,r);if(t){var n=A(t);g(n)}},[]),t.useEffect(function(){var t=A(s.findArrayName(e.name,r));l.isEqual(t,h)||g(t)},[s.findArrayName(e.name,r)]),t.useEffect(function(){!function(e){try{if(l.isArray(e)&&e.length>0)for(var t=0;t<e.length;t++)N(e[t])&&k(e[t]);else N(e)&&k(e)}catch(e){}}(h)},[h]),t.useEffect(function(){x(E)},[E]);var C=t.useState({}),P=C[0],I=C[1],M=w(h);return process.env.REACT_APP_API_URL?n.createElement("div",null,!E&&!e.isReadonly&&n.createElement("div",null,!e.isMultiple&&n.createElement("div",{style:{display:"inline-block"}},n.createElement(c.Form.Control,{className:e.className,accept:a,label:e.name,type:"file",onChange:function(t){var n,a,r=t.target.files||t.dataTransfer.files;r.length&&(n=r[0],(a=new FileReader).onload=function(t){!function(t,n){var a=e.url||process.env.REACT_APP_API_URL+"/file/upload",r=new FormData,o=t.name;r.append("type",t.type),r.append("name",o),r.append("file",t),r.append("lastModifiedDate",H(t.lastModifiedDate).format("YYYY-MM-DD HH:mm:ss")),r.append("size",t.size),_(!0),p.post(a,r,{headers:s.setAuthHeader(S,"multipart/form-data; boundary="+r._boundary)}).then(function(t){l.isEmpty(t.data.message)||D({type:"SET_MESSAGE",payload:t.data.message}),t.data.success?(D({type:"SET_INPUT",payload:{key:e.name,value:t.data.data.token}}),g([t.data.data.token])):D({type:"SET_INPUT",payload:{key:e.name,value:""}}),_(!1)}).catch(function(t){D({type:"SET_INPUT",payload:{key:e.name,value:""}}),D({type:"SET_MESSAGE",payload:"Gagal mengunggah lampiran"}),_(!1)})}(n)},a.readAsDataURL(n))},onInput:function(e){x(!1)},onClick:function(e){x(!0),setTimeout(function(){x(!1)},6e4)}})),!E&&e.isMultiple&&n.createElement(f,{config:{showFiletypeIcon:!0,postUrl:process.env.REACT_APP_API_URL+"/file/upload_multiple",uploadMultiple:!0,maxFiles:5},eventHandlers:{drop:function(){},complete:function(t){var n=JSON.parse(t.xhr.response),a=h||[];a.push(n.data.token);var r=l.filter(a,function(e){return!l.isEmpty(e)})||[];D({type:"SET_INPUT",payload:{key:e.name,value:r.join("|")}}),g(r)},removedfile:function(e){}},djsConfig:{acceptedFiles:a,params:{token:S.user.token},addRemoveLinks:!0,autoProcessQueue:!0,maxFiles:5}})),!E&&M.length>0&&M.map(function(t,a){return n.createElement("div",{style:{display:"inline-block"},key:t},e.preview&&n.createElement(n.Fragment,null,n.createElement(z,{key:t,type:u[t],file:t}),n.createElement("br",null)),n.createElement(c.ButtonGroup,null,n.createElement(c.Button,{variant:"primary",onClick:function(){return T(t)}},n.createElement(b.FontAwesomeIcon,{icon:Y.faSearch})," Lihat"),n.createElement(c.Button,{vendor:"success",onClick:function(){return window.location.href=process.env.REACT_APP_API_URL+"/file/download/"+t}},n.createElement(b.FontAwesomeIcon,{icon:Y.faDownload})," Unduh"),!e.isReadonly&&n.createElement(c.Button,{variant:"danger",onClick:function(){return function(t){var n=process.env.REACT_APP_API_URL+"/file/delete",a=s.secureData({token_file:t,token:S.token}),r={method:"POST",headers:s.setAuthHeader(S),url:n,data:a};_(!0),p(r).then(function(n){l.isEmpty(n.data.message)||D({type:"SET_MESSAGE",payload:n.data.message});var a=l.filter(h,function(e){return!l.isEqual(e,t)});g(a),D({type:"SET_INPUT",payload:{key:e.name,value:a}}),_(!1)}).catch(function(n){D({type:"SET_MESSAGE",payload:"Gagal menghapus lampiran"});var a=l.filter(h,function(e){return!l.isEqual(e,t)});D({type:"SET_INPUT",payload:{key:e.name,value:a}}),g(a),_(!1)})}(t)}},n.createElement(b.FontAwesomeIcon,{icon:Y.faTimes})," Hapus")),n.createElement(c.Modal,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",id:"modal_"+t,show:P[t],onHide:function(){return T(t)}},n.createElement(c.Modal.Body,null,n.createElement(z,{key:t,type:u[t],file:t})),n.createElement(c.Modal.Footer,null,n.createElement(c.Button,{variant:"primary",onClick:function(){return T(t)}},n.createElement(b.FontAwesomeIcon,{icon:Y.faTimes})," Tutup"))))}),E&&n.createElement(O,null)):n.createElement("span",null,"REACT_APP_API_URL is required for .env")}var q,j=function(e){return n.createElement(c.InputGroup,null,n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:k.faCalendar})),n.createElement(c.Form.Control,{style:{borderLeft:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:null==e?void 0:e.disabled,name:null==e?void 0:e.name,value:(null==e?void 0:e.value)||"",onClick:null==e?void 0:e.onClick}))},G=A(w)(q||(q=V(["\n  overflow: hidden;\n\n  ._loading_overlay_overlay {\n    background: rgba(255, 255, 255, 0.5);\n  }\n  &._loading_overlay_wrapper--active {\n    overflow: hidden;\n  }\n"])));function W(e){return n.createElement(G,{fadeSpeed:250,active:e.isLoading,spinner:n.createElement(O,null)},e.children)}var K=function(e){return null},X=function(e){var a=e.column.filterValue,l=e.column.id,r=e.name,o=m.useDispatch(),i=n.useState(a),u=i[0],d=i[1],p=s.slug("search_"+r+"_"+l,"_"),f=m.useSelector(function(e){return e.core.filter});return t.useEffect(function(){d(f[p])},[]),n.createElement(c.Form.Control,{key:p,id:p,name:p,value:u,style:{zIndex:0},onChange:function(e){var t;e.preventDefault(),d(e.target.value),setCurPage(1),o({type:"SET_MULTI_FILTER",payload:(t={},t[p]=e.target.value,t[s.slug("loaded_"+r,"_")]=!1,t)})},placeholder:"Pencarian"})};function J(e){for(var a=e.columns,r=e.data,o=e.renderRowSubComponent,i=e.customPageIndex,u=e.customPageSize,d=e.customPageCount,p=e.loading,f=e.isColumnsSearchable,y=e.primaryKey,h=e.name,g=e.customPageTotal,v=m.useSelector(function(e){return e.core.filter})||{},E=[],_=0;_<a.length;_++)try{var S=s.slug("sort_"+h+"_"+a[_][y],"_"),D=v[S];l.isEmpty(D)||l.isNull(D)||l.isUndefined(D)||E.push({id:a[_][y],desc:"desc"==D})}catch(e){}var N=T.useTable({columns:a,data:r,defaultColumn:{Filter:function(e){return n.createElement(X,L({},e,{name:h}))}},initialState:{pageIndex:i,pageSize:u,sortBy:E},manualPagination:!0,pageCount:d,manualSortBy:!0,defaultCanSort:!0,isMultiSortEvent:function(){}},T.useFilters,T.useSortBy,T.useExpanded,T.usePagination),w=N.getTableProps,A=N.getTableBodyProps,x=N.headerGroups,C=N.page,P=N.prepareRow,I=N.visibleColumns,M=N.gotoPage,R=N.setPageSize,F=N.state,U=F.pageIndex,V=F.pageSize,O=x[0].headers||[];s.useDebounce(function(){for(var e,t={},n=0;n<O.length;n++){var a=O[n];if(a){var r=s.slug("sort_"+h+"_"+a[y],"_"),o=a.isSorted?a.isSortedDesc?"desc":"asc":null;o!=v[r]&&(t[r]=o)}}l.isEmpty(t)||W({type:"SET_MULTI_FILTER",payload:L({},t,(e={},e[s.slug("loaded_"+h,"_")]=!1,e))})},400,[O]);var H=t.useState(p),z=H[0],B=H[1],q=t.useState(U),j=q[0],G=q[1],W=m.useDispatch(),J=function(e){var t;R(Number(e.target.value)),W({type:"SET_MULTI_FILTER",payload:(t={},t[s.slug("load_"+h,"_")]=Number(e.target.value),t[s.slug("page_"+h,"_")]=j,t)})},Q=function(e){var t=e.target.value?Number(e.target.value):0;ne(t)},Z=i<d,$=i>=2,ee=function(){j<d&&ne(j+1)},te=function(){j>=2&&ne(j-1)},ne=function(e){G(e)};return s.useDebounce(function(){var e;M(j),W({type:"SET_MULTI_FILTER",payload:(e={},e[s.slug("load_"+h,"_")]=V,e[s.slug("page_"+h,"_")]=j,e)})},400,[j]),s.useDebounce(function(){ne(v[s.slug("page_"+h,"_")])},400,[v[s.slug("page_"+h,"_")]]),t.useEffect(function(){B&&!p?setTimeout(function(){return B(p)},400):B(p)},[p]),l.isEmpty(h)?n.createElement("p",null,"Props name is Required"):n.createElement("div",null,n.createElement("div",{className:"custom-scroll",style:{overflow:"auto"}},n.createElement(c.InputGroup,null,n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return ne(1)},disabled:!$||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleDoubleLeft})),n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:te,disabled:!$||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleLeft})),n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:k.faFile}),"   Hal :"," "),n.createElement(c.Form.Control,{style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},type:"number",min:1,max:d,value:j,onChange:Q}),n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:Y.faBars}),"   Lihat :"," "),n.createElement(c.Form.Control,{type:"number",min:1,style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},max:50,value:V,onChange:J}),n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:ee,disabled:!Z||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleRight})),n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return ne(d)},disabled:!Z||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleDoubleRight})))),n.createElement("div",{className:"text-center mt-2 mb-2"},n.createElement("strong",null,s.numberFormat(i,""))," dari"," ",n.createElement("strong",null,s.numberFormat(d,""))," hal. Total"," : ",n.createElement("strong",null,s.numberFormat(g,""))," baris"),n.createElement(c.Table,L({style:{margin:0,zIndex:0},responsive:!0,bordered:!0,hover:!0,striped:!0,vcenter:!0},w()),n.createElement("thead",null,x.map(function(e){return n.createElement("tr",e.getHeaderGroupProps(),e.headers.map(function(e){return n.createElement("th",L({style:{padding:"4px 8px",borderTop:"1px solid #dee2e6"}},e.getHeaderProps()),n.createElement("div",e.getSortByToggleProps(),n.createElement("span",{style:{display:"inline-block"}},e.render("Header")),n.createElement("span",{style:{display:"inline-block",fontWeight:"bold"}},function(e){return e.isSorted?e.isSortedDesc?" ↓":" ↑":""}(e))),f&&n.createElement(K,{column:e}))}))})),n.createElement("tbody",A(),C.length>0&&!z&&parseInt(i)===parseInt(j)?C.map(function(e){return P(e),n.createElement(n.Fragment,{key:e.getRowProps().key},n.createElement("tr",null,e.cells.map(function(e,t){return n.createElement("td",L({style:{padding:"4px 8px",width:0==t?"10px":"auto"}},e.getCellProps()),e.render("Cell"))})),e.isExpanded&&n.createElement("tr",null,n.createElement("td",{style:{padding:"4px 8px"},colSpan:I.length},o(e))))}):x.map(function(e){return n.createElement("tr",null,n.createElement("td",{style:{padding:"12px 0",textAlign:"center"},colSpan:e.headers.length},z||parseInt(i)!==parseInt(j)?"Memproses":"Tidak ada data"))}))),n.createElement("div",{className:"text-center mt-2 mb-2"},n.createElement("strong",null,s.numberFormat(i,""))," dari"," ",n.createElement("strong",null,s.numberFormat(d,""))," hal. Total"," : ",n.createElement("strong",null,s.numberFormat(g,""))," baris"),n.createElement("div",{className:"custom-scroll",style:{overflow:"auto"}},n.createElement(c.InputGroup,null,n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return ne(1)},disabled:!$||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleDoubleLeft})),n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:te,disabled:!$||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleLeft})),n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:k.faFile}),"   Hal :"," "),n.createElement(c.Form.Control,{style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},type:"number",min:1,max:d,value:j,onChange:Q}),n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:Y.faBars}),"   Lihat :"," "),n.createElement(c.Form.Control,{type:"number",min:1,style:{borderLeft:"none",borderRight:"none",minWidth:72,zIndex:0},max:50,value:V,onChange:J}),n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:ee,disabled:!Z||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleRight})),n.createElement(c.Button,{style:{border:"none",zIndex:0},variant:"primary",onClick:function(){return ne(d)},disabled:!Z||p},n.createElement(b.FontAwesomeIcon,{icon:Y.faAngleDoubleRight})))))}function Q(e){var a,r=t.useState(!1),o=r[0],i=r[1],u=t.useState(""),d=u[0],p=u[1],f=t.useState([]),y=f[0],h=f[1],g=t.useState([]),v=g[0],E=g[1],_=t.useState({}),S=_[0],D=_[1],N=t.useState(!1),w=N[0],A=N[1],T=t.useState(!1),C=T[0],P=T[1],I=m.useDispatch(),M=(m.useSelector(function(e){return e.core.parameter}),m.useSelector(function(e){return e.core.input})||{}),R=(m.useSelector(function(e){return e.auth.user}),m.useSelector(function(e){return e.core.filter})||{}),F=s.slug("selected_"+e.name,"_"),U=e.primaryKey?e.primaryKey:"id",L=t.useRef(),V=x.useIsVisible(L),O={Header:"#",id:"select",width:"10px",Cell:function(t){var a=m.useSelector(function(e){return e.core.input}),r=!1;try{r="single"==e.selectable?s.findArrayName(F,a)==t.row.original[U]:l.findIndex(s.findArrayName(F,a),function(e){return e==t.row.original[U]})>-1}catch(e){}return n.createElement(c.Form.Check,{inline:!0,id:s.slug(e.name+"_check_"+t.row.original[U],"_"),name:s.slug(e.name+"_check_"+t.row.original[U],"_"),type:"single"==e.selectable?"radio":"checkbox",value:1,checked:r,disabled:e.isReadonly,onChange:function(){return function(t,n,a){void 0===a&&(a=!1);var r=t.row.original||{};if("single"==e.selectable)I({type:"SET_PARAMETER",payload:{key:F,value:r}}),I({type:"SET_INPUT",payload:{key:F,value:r[U]}});else{var o=[];a?o=l.filter(s.findArrayName(F,n),function(e){return e&&r&&parseInt(e)!=parseInt(r[U])})||[]:(o=s.findArrayName(F,n)||[],l.isArray(o)||(o=[]),o.push(r[U])),o=l.uniq(o),I({type:"SET_INPUT",payload:{key:F,value:o}})}}(t,a,r)}})}},H=l.isEmpty(e.selectable)?[].concat(e.columns):[O].concat(e.columns);if(e.action){var z={Header:"Aksi",id:"aksi_"+e.name,sortable:!1,Cell:function(t){var a=m.useSelector(function(e){return e.core.parameter}),r=t.row.original[U];return n.createElement(c.DropdownButton,{key:"dropdown_"+e.name+"_"+r,id:"dropdown_"+e.name+"_"+r,isOpen:l.isEqual(a.dropdown,r),toggle:function(){return function(e){var t=l.isEqual(a.dropdown,e)?null:e;I({type:"SET_PARAMETER",payload:{key:"dropdown",value:t}})}(r)},drop:"end",variant:"primary",title:""},l.filter(e.action,function(e){return l.isUndefined(e.show)||e.show}).map(function(a,o){var i=!!l.isBoolean(a.disabled)&&a.disabled;return n.createElement(c.Dropdown.Item,{key:"dropdownitem_"+e.name+"_"+r+"_"+o,onClick:function(){return a.onClick(t.row.original)},disabled:i},a.label)}))}};H=l.isEmpty(e.selectable)?[z].concat(e.columns):[z,O].concat(e.columns)}function B(){o&&(p(window.location.href),e.onReload(),s.findArrayName(s.slug("loaded_"+e.name,"_"),R)||I({type:"SET_FILTER",payload:{key:s.slug("loaded_"+e.name,"_"),value:!0}}))}t.useEffect(function(){V!=o&&i(V)}),t.useEffect(function(){I({type:"SET_FILTER",payload:{key:s.slug("loaded_"+e.name,"_"),value:!1}})},[]),s.useDebounce(function(){!o||l.isEqual(window.location.href,d)&&!l.isEmpty(d)||B()},400,[o,window.location.href]),s.useDebounce(B,400,[s.findArrayName(s.slug("keyword_"+e.name,"_"),R),s.findArrayName(s.slug("page_"+e.name,"_"),R),s.findArrayName(s.slug("load_"+e.name,"_"),R),s.findArrayName(s.slug("loaded_"+e.name,"_"),R)]),s.useDebounce(function(){E(function(e){return l.uniqBy([].concat(e,y),U)}),s.findArrayName(F,M)&&function(){var t=null,n=null;if("single"==e.selectable)t=t=l.find(v,function(e){return e&&parseInt(e[U])==n})||{},n=s.findArrayName(F,M)||null;else{t=[],n=s.findArrayName(F,M)||[];for(var a=function(e){var a=l.find(v,function(t){return t&&parseInt(t[U])==n[e]})||{};l.isEmpty(a)||t.push(a)},r=0;r<n.length;r++)a(r)}I({type:"SET_PARAMETER",payload:{key:F,value:t}})}()},400,[s.findArrayName(F,M),R]),s.useDebounce(function(){try{h(e.data.data||[])}catch(e){}E(function(e){return l.uniqBy([].concat(e,y),U)});try{D(e.data.meta||{})}catch(e){}},400,[e.data]);var q=n.useMemo(function(){return H},[]);return n.createElement(W,{isLoading:e.isLoading},n.createElement("div",{style:{padding:"8px 12px"},ref:L},n.createElement("div",{style:{marginBottom:"12px"}},n.createElement(c.Row,null,n.createElement(c.Col,{xs:"12",sm:"12",md:"8",lg:"8"},n.createElement("div",null,e.renderFilter?e.renderFilter:null))),n.createElement(c.Row,{style:{justifyContent:"flex-end"}},n.createElement(c.Col,{xs:"12",sm:"12",md:"4",lg:"4"},n.createElement("div",null,e.isSearchable&&n.createElement("div",null,n.createElement(c.InputGroup,null,n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:Y.faSearch})),n.createElement(c.Form.Control,((a={id:s.slug("keyword_"+e.name,"_"),key:s.slug("keyword_"+e.name,"_"),style:{borderLeft:"none"},className:"form-control",value:s.findArrayName(s.slug("keyword_"+e.name,"_"),R),onChange:function(t){var n;I({type:"SET_MULTI_FILTER",payload:(n={},n[s.slug("keyword_"+e.name,"_")]=t.target.value,n[s.slug("page_"+e.name,"_")]=1,n.loaded=!1,n)})},type:"text"}).id=s.slug("keyword_"+F),a.name=s.slug("keyword_"+e.name,"_"),a.placeholder="Pencarian",a)),n.createElement(c.Button,{style:{zIndex:0},variant:"primary",onClick:B,type:"button",disabled:e.isLoading},n.createElement(b.FontAwesomeIcon,{icon:Y.faSync,spin:e.isLoading})),(e.export||e.import)&&n.createElement(n.Fragment,null,e.export&&n.createElement(c.Button,{id:"exportFile",style:{zIndex:0},variant:"primary",className:"mr-1",onClick:e.exportReload,type:"button",disabled:e.disabledButton},n.createElement(b.FontAwesomeIcon,{icon:k.faArrowAltCircleDown}),n.createElement(c.Tooltip,{placement:"top",isOpen:w,autohide:!1,target:"exportFile",toggle:function(){return A(!w)}},"Export")),e.import&&n.createElement(c.Button,{id:"importFile",style:{zIndex:0},variant:"primary",className:"mr-1",onClick:e.importReload,type:"button",disabled:e.disabledButton},n.createElement(b.FontAwesomeIcon,{icon:k.faArrowAltCircleUp}),n.createElement(c.Tooltip,{placement:"top",isOpen:C,autohide:!1,target:"importFile",toggle:function(){return P(!C)}},"Import"))))))))),n.createElement(J,{name:s.slug(e.name,"_"),columns:q,data:y,primaryKey:U,isColumnsSearchable:e.isColumnsSearchable,fetchData:B,loading:e.isLoading,customPageTotal:S&&!l.isEmpty(S)?S.total:0,customPageCount:S&&!l.isEmpty(S)?S.last_page:1,customPageSize:S&&!l.isEmpty(S)?S.per_page:s.findArrayName(s.slug("load_"+e.name,"_"),R)?s.findArrayName(s.slug("load_"+e.name,"_"),R):10,customPageIndex:S&&!l.isEmpty(S)?S.current_page:s.findArrayName(s.slug("page_"+e.name,"_"),R)?s.findArrayName(s.slug("page_"+e.name,"_"),R):1})))}var Z,$="YYYY-MM-DD HH:mm:ss",ee=function(e){return n.createElement(c.InputGroup,null,n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:k.faCalendar})),n.createElement(c.Form.Control,{style:{borderLeft:"none",borderRight:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:e.disabled,name:e.name,value:e.value||"",onClick:e.onClick}),n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:k.faClock})))};function te(){return n.createElement(b.FontAwesomeIcon,{style:{position:"absolute",left:8,top:11},icon:k.faClock})}function ne(e){var a=l.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),r=t.useState([])[0],o=m.useDispatch(),i=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},c=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.parameter})||{},d=s.findArrayName(a,i)||null,p=s.findArrayName("selected_"+a,c)||null,f=[];try{if(l.isArray(null==e?void 0:e.options))for(var y=0;y<(null==e?void 0:e.options.length);y++){var h=null==e?void 0:e.options[y];h&&null!=e&&e.isHtml&&(h[null==e?void 0:e.name]=u(String(h[null==e?void 0:e.name]))),f.push(h)}}catch(e){}function g(t){var n=[];if(l.isArray(null==e?void 0:e.optionLabel))for(var a=0;a<=(null==e||null===(r=e.optionLabel)||void 0===r?void 0:r.length)-1;a++){var r,o=t[null==e?void 0:e.optionLabel[a]];o&&n.push(o)}else n.push(t[null==e?void 0:e.optionLabel]);return n}function v(e,t){o({type:"SET_INPUT",payload:{key:s.slug(String(e),"_"),value:t}})}function E(t){if(a)try{v(a,null!=e&&e.isMultiple?l.map(t,null==e?void 0:e.optionValue):t[null==e?void 0:e.optionValue])}catch(e){v(a,null)}}function _(){setshow(!r)}return t.useEffect(function(){!function(t){var n=null;if(null!=e&&e.isMultiple){var r;n=[];try{if(l.isArray(f)&&l.isArray(t))for(var i=0;i<(null==f?void 0:f.length);i++)for(var s=0;s<(null==t?void 0:t.length);s++){var u=f[i],c=t[s];String(u[null==e?void 0:e.optionValue])==String(c)&&n.push(u)}}catch(e){}0==(null===(r=n)||void 0===r?void 0:r.length)&&(n=null)}else n=l.find(f,function(n){return String(n[null==e?void 0:e.optionValue])==String(t)}.bind(this))||{},l.isEmpty(n)&&(n=null);l.isUndefined(n)||o({type:"SET_PARAMETER",payload:{key:"selected_"+a,value:n}})}(d)},[d]),null!=e&&e.disabled||null!=e&&e.isReadonly?g(p):null!=e&&e.withModal?n.createElement(n.Fragment,null,n.createElement(Row,null,!(null!=e&&e.isReadonly)&&n.createElement(Col,{lg:"1",md:"1",sm:"3",xs:"1"},n.createElement(Button,{type:"button",className:"btn btn-icon btn-primary",onClick:_},n.createElement(b.FontAwesomeIcon,{icon:Y.faSearch})," Pilih")),n.createElement(Col,{lg:"11",md:"11",sm:"9",xs:"11"},!p||l.isUndefined(p)||l.isEmpty(p)?"":g(p))),n.createElement(Modal,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",show:r,onHide:_},n.createElement(ModalHeader,{closeButton:!0,toggle:_},n.createElement(Modal.Title,null,(null==e?void 0:e.placeholder)||"Pilih")),n.createElement(ModalBody,null,n.createElement(I,{isClearable:!0,id:a,isSearchable:!0,isHtml:null==e?void 0:e.isHtml,isMulti:null==e?void 0:e.isMultiple,placeholder:null!=e&&e.placeholder?null==e?void 0:e.placeholder:"Pilih",getOptionLabel:g,getOptionValue:function(t){return t[null==e?void 0:e.optionValue]},noOptionsMessage:function(){return"Data tidak ditemukan"},value:p,onChange:E,options:f,isDisabled:null==e?void 0:e.disabled})))):n.createElement(I,{menuPortalTarget:document.body,menuPosition:"fixed",styles:{menuPortal:function(e){return L({},e,{fontFamily:"inherit",fontSize:"inherit",zIndex:9999})},menu:function(e){return L({},e,{fontFamily:"inherit",fontSize:"inherit",zIndex:"9999 !important"})},multiValueRemove:function(e){return L({},e,{color:"#db2828",cursor:"pointer"})},placeholder:function(e){return L({},e,{fontFamily:"inherit",fontSize:"inherit"})},multiValue:function(e){return L({},e,{background:"none"})},multiValueLabel:function(e){return L({},e,{fontFamily:"inherit",fontSize:"inherit"})},option:function(e){return L({},e,{fontFamily:"inherit",fontSize:"inherit"})},clearIndicator:function(e,t){return L({},e,{cursor:"pointer",color:"#db2828"})}},className:"tcomponent-select",isClearable:!0,id:a,isSearchable:!0,isHtml:null==e?void 0:e.isHtml,isMulti:null==e?void 0:e.isMultiple,placeholder:null!=e&&e.placeholder?null==e?void 0:e.placeholder:"Pilih",getOptionLabel:g,getOptionValue:function(t){return t[null==e?void 0:e.optionValue]},noOptionsMessage:function(){return"Data tidak ditemukan"},value:p,onChange:E,options:f,isDisabled:null==e?void 0:e.disabled})}function ae(e){return n.createElement(c.InputGroup,null,n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:k.faCalendar})),n.createElement(c.Form.Control,{style:{borderLeft:"none",fontFamily:"inherit",fontSize:"inherit"},type:"text",className:"form-control",disabled:e.disabled,name:e.name,value:e.value||"",onClick:e.onClick}))}g();var le=M.css(Z||(Z=V(["\n   position: absolute;\n   top: 50%;\n   left: 50%;\n   margin-top: -25px;\n   margin-left: -50px;\n"])));function re(e){var a=t.useState({}),r=a[0],o=a[1],i=t.useState(!1),u=i[0],d=i[1],f=e.isMultiple,y=e.optionLabel,h=e.separator,g=e.primaryKey,v=e.id,E=e.param,_=s.slug(e.name,"_"),S=s.slug("selected_"+_,"_"),D=m.useDispatch(),k=m.useSelector(function(e){return e.auth})||{},N=m.useSelector(function(e){return e.core.input})||{},w=m.useSelector(function(e){return e.core.filter})||{},A=m.useSelector(function(e){return e.core.parameter})||{};return t.useEffect(function(){var t=process.env.REACT_APP_API_URL+"/"+e.url,n=s.defaultFilterData(w,[],_),a=s.secureData(L({pkey:g,selected:[v],keyword:n.keyword,load:1,page:1},E)),l={method:"POST",headers:s.setAuthHeader(k),url:t,data:a};d(!0),p(l).then(function(e){o(e.data.data.data[0]),d(!1)}).catch(function(e){d(!1)})},[v]),n.createElement(n.Fragment,null,!r||l.isUndefined(r)||l.isEmpty(r)?u?n.createElement(O,null):"":[function(e){if(l.isArray(y)){var t=[];h=h||" | ";for(var n=0;n<=y.length-1;n++)e[y[n]]&&!l.isUndefined(e[y[n]])&&t.push(e[y[n]]);return t.join(h)}return e[y]?e[y]:""}(r),!e.isReadonly&&n.createElement(c.Button,{variant:"link",onClick:function(t){if(o(null),l.isObject(e.optionValue)&&Object.keys(e.optionValue).map(function(t,n){D({type:"SET_INPUT",payload:{key:e.optionValue[t],value:null}})}),f){var n=l.filter(s.findArrayName(_,N),function(e){return e!=t}),a=l.filter(s.findArrayName(S,N),function(e){return e!=t}),r=l.filter(s.findArrayName(S,A),function(e){return e[g]!=t});D({type:"SET_INPUT",payload:{key:_,value:n}}),D({type:"SET_INPUT",payload:{key:S,value:a}}),D({type:"SET_PARAMETER",payload:{key:S,value:r}})}else D({type:"SET_INPUT",payload:{key:_,value:null}}),D({type:"SET_INPUT",payload:{key:S,value:null}}),D({type:"SET_PARAMETER",payload:{key:S,value:{}}})}.bind(null,r[g]),style:{borderRadius:100,zIndex:0}},n.createElement(b.FontAwesomeIcon,{color:"#db2828",icon:Y.faTimes}))])}function oe(e){var t={chart:{width:"auto"}},a=e.series||[];if((l.isUndefined(e.series)||l.isNull(e.series)||!l.isArray(e.series))&&l.isArray(e.options)&&!l.isUndefined(e.optionValue)&&!l.isNull(e.optionValue))for(var r=function(){if(l.isString(e.optionValue))a.push(e.options[o][e.optionValue]);else if(l.isPlainObject(e.optionValue)){var t={};Object.keys(e.optionValue).map(function(n,a){t[e.optionValue[n]]=e.options[o][n]}),a.push(t)}else if(l.isArray(e.optionValue)){var n=[];for(d=0;d<e.optionValue.length;d++)n.push(e.options[o][e.optionValue[d]]);a.push(n)}},o=0;o<e.options.length;o++)r();l.isUndefined(e.dataLabels)||l.isNull(e.dataLabels)||!l.isPlainObject(e.dataLabels)||(t.dataLabels=e.dataLabels);var i,u=" ";if(l.isUndefined(e.separator)||l.isNull(e.separator)||!l.isPlainObject(e.separator)||(u=e.separator),l.isUndefined(e.labels)||l.isNull(e.labels)||!l.isArray(e.labels)){if(l.isArray(e.options)&&!l.isUndefined(e.optionLabel)&&!l.isNull(e.optionLabel))for(t.labels=[],o=0;o<e.options.length;o++)if(l.isString(e.optionLabel))t.labels.push(e.options[o][e.optionLabel]);else if(l.isArray(e.optionLabel)){for(var c=[],d=0;d<e.optionLabel.length;d++)c.push(e.options[o][e.optionLabel[d]]);t.labels.push(c.join(u))}}else t.labels=e.labels;if(l.isUndefined(e.colors)||l.isNull(e.colors)||!l.isArray(e.colors)){if(l.isArray(e.options)&&!l.isUndefined(e.optionColor)&&!l.isNull(e.optionColor)&&l.isString(e.optionColor))for(t.colors=[],o=0;o<e.options.length;o++)t.colors.push(e.options[o][e.optionColor])}else t.colors=e.colors;return l.isUndefined(e.locales)||l.isNull(e.locales)||!l.isArray(e.locales)||(t.chart.locales=e.locales),l.isUndefined(e.type)||l.isNull(e.type)||!l.isString(e.type)||(t.chart.type=e.type),l.isUndefined(e.animations)||l.isNull(e.animations)||!l.isPlainObject(e.animations)||(t.chart.animations=e.animations),l.isUndefined(e.background)||l.isNull(e.background)||!l.isString(e.background)||(t.chart.background=e.background),l.isUndefined(e.brush)||l.isNull(e.brush)||!l.isPlainObject(e.brush)||(t.chart.brush=e.brush),l.isUndefined(e.defaultLocale)||l.isNull(e.defaultLocale)||!l.isString(e.defaultLocale)||(t.chart.defaultLocale=e.defaultLocale),l.isUndefined(e.dropShadow)||l.isNull(e.dropShadow)||!l.isPlainObject(e.defaultLocale)||(t.chart.dropShadow=e.dropShadow),l.isUndefined(e.fontFamily)||l.isNull(e.fontFamily)||!l.isString(e.fontFamily)||(t.chart.fontFamily=e.fontFamily),l.isUndefined(e.foreColor)||l.isNull(e.foreColor)||!l.isString(e.foreColor)||(t.chart.foreColor=e.foreColor),l.isUndefined(e.group)||l.isNull(e.group)||!l.isString(e.group)||(t.chart.group=e.group),l.isUndefined(e.events)||l.isNull(e.events)||!l.isPlainObject(e.events)||(t.chart.events=e.events),l.isUndefined(e.height)||l.isNull(e.height)||!l.isString(e.height)&&!l.isNumber(e.height)||(t.chart.height=e.height),l.isUndefined(e.id)||l.isNull(e.id)||!l.isString(e.id)||(t.chart.id=s.slug(e.id)),l.isUndefined(e.name)||l.isNull(e.name)||!l.isString(e.name)||(t.chart.id=s.slug(e.name)),l.isUndefined(e.offsetX)||l.isNull(e.offsetX)||!l.isNumber(e.offsetX)||(t.chart.offsetX=e.offsetX),l.isUndefined(e.offsetY)||l.isNull(e.offsetY)||!l.isNumber(e.offsetY)||(t.chart.offsetY=e.offsetY),l.isUndefined(e.parentHeightOffset)||l.isNull(e.parentHeightOffset)||!l.isNumber(e.parentHeightOffset)||(t.chart.parentHeightOffset=e.parentHeightOffset),l.isUndefined(e.redrawOnParentResize)||l.isNull(e.redrawOnParentResize)||!l.isBoolean(e.redrawOnParentResize)||(t.chart.redrawOnParentResize=e.redrawOnParentResize),l.isUndefined(e.redrawOnWindowResize)||l.isNull(e.redrawOnWindowResize)||!l.isBoolean(e.redrawOnWindowResize)||(t.chart.redrawOnWindowResize=e.redrawOnWindowResize),l.isUndefined(e.selection)||l.isNull(e.selection)||!l.isPlainObject(e.selection)||(t.chart.selection=e.selection),l.isUndefined(e.sparkline)||l.isNull(e.sparkline)||!l.isBoolean(e.sparkline)||(t.chart.sparkline=e.sparkline),l.isUndefined(e.stacked)||l.isNull(e.stacked)||!l.isBoolean(e.stacked)||(t.chart.stacked=e.stacked),l.isUndefined(e.stackType)||l.isNull(e.stackType)||!l.isString(e.stackType)||(t.chart.stackType=e.stackType),l.isUndefined(e.toolbar)||l.isNull(e.toolbar)||!l.isPlainObject(e.toolbar)||(t.chart.toolbar=e.toolbar),l.isUndefined(e.width)||l.isNull(e.width)||!l.isString(e.width)&&!l.isNumber(e.width)||(t.chart.width=e.width),l.isUndefined(e.zoom)||l.isNull(e.zoom)||!l.isPlainObject(e.zoom)||(t.chart.zoom=e.zoom),l.isUndefined(e.fill)||l.isNull(e.fill)||!l.isPlainObject(e.fill)||(t.fill=e.fill),l.isUndefined(e.forecastDataPoints)||l.isNull(e.forecastDataPoints)||!l.isPlainObject(e.forecastDataPoints)||(t.forecastDataPoints=e.forecastDataPoints),l.isUndefined(e.grid)||l.isNull(e.grid)||!l.isPlainObject(e.grid)||(t.grid=e.grid),l.isUndefined(e.legend)||l.isNull(e.legend)||!l.isPlainObject(e.legend)||(t.legend=e.legend),l.isUndefined(e.markers)||l.isNull(e.markers)||!l.isPlainObject(e.markers)||(t.markers=e.markers),l.isUndefined(e.noData)||l.isNull(e.noData)||!l.isPlainObject(e.noData)||(t.noData=e.noData),l.isUndefined(e.states)||l.isNull(e.states)||!l.isPlainObject(e.states)||(t.states=e.states),l.isUndefined(e.stroke)||l.isNull(e.stroke)||!l.isPlainObject(e.stroke)||(t.stroke=e.stroke),l.isUndefined(e.subtitle)||l.isNull(e.subtitle)||!l.isPlainObject(e.subtitle)||(t.subtitle=e.subtitle),l.isUndefined(e.theme)||l.isNull(e.theme)||!l.isPlainObject(e.theme)||(t.theme=e.theme),l.isUndefined(e.title)||l.isNull(e.title)||!l.isPlainObject(e.title)||(t.title=e.title),l.isUndefined(e.tooltip)||l.isNull(e.tooltip)||!l.isPlainObject(e.tooltip)||(t.tooltip=e.tooltip),l.isUndefined(e.xaxis)||l.isNull(e.xaxis)||!l.isPlainObject(e.xaxis)||(t.xaxis=e.xaxis),l.isUndefined(e.yaxis)||l.isNull(e.yaxis)||!l.isPlainObject(e.yaxis)||(t.yaxis=e.yaxis),l.isUndefined(e.plotOptions)||l.isNull(e.plotOptions)||!l.isPlainObject(e.plotOptions)||(t.plotOptions=((i={})[t.chart.type]=e.plotOptions,i)),n.createElement(F,{options:t,series:a,type:t.chart.type})}exports.ChartArea=function(e){return n.createElement(oe,L({},e,{type:"area"}))},exports.ChartBar=function(e){return n.createElement(oe,L({},e,{type:"bar"}))},exports.ChartBoxPlot=function(e){return n.createElement(oe,L({},e,{type:"boxPlot"}))},exports.ChartBubble=function(e){return n.createElement(oe,L({},e,{type:"bubble"}))},exports.ChartCandleStick=function(e){return n.createElement(oe,L({},e,{type:"candlestick"}))},exports.ChartDonut=function(e){return n.createElement(oe,L({},e,{type:"donut"}))},exports.ChartHeatMap=function(e){return n.createElement(oe,L({},e,{type:"heatmap"}))},exports.ChartHistogram=function(e){return n.createElement(oe,L({},e,{type:"histogram"}))},exports.ChartLine=function(e){return n.createElement(oe,L({},e,{type:"line"}))},exports.ChartPie=function(e){return n.createElement(oe,L({},e,{type:"pie"}))},exports.ChartPolarArea=function(e){return n.createElement(oe,L({},e,{type:"polarArea"}))},exports.ChartRadar=function(e){return n.createElement(oe,L({},e,{type:"radar"}))},exports.ChartRadial=function(e){return n.createElement(oe,L({},e,{type:"radialBar"}))},exports.ChartRange=function(e){return n.createElement(oe,L({},e,{type:"rangeBar"}))},exports.ChartScatter=function(e){return n.createElement(oe,L({},e,{type:"scatter"}))},exports.ChartTreeMap=function(e){return n.createElement(oe,L({},e,{type:"treemap"}))},exports.DataTable=Q,exports.DataTableContainer=J,exports.Field=function(e){var t=[];if(l.isArray(e.errorMessage))for(var a=0;a<e.errorMessage.length;a++){var r=e.errorMessage[a];if(l.isArray(r))for(var o=0;o<r.length;o++)t.push(r[o]);else t.push(r)}else t.push(e.errorMessage);return n.createElement(c.Form.Group,{as:c.Row},n.createElement(c.Form.Label,{column:!0,md:e.labelSize?e.labelSize:3},e.label?e.label:"Label",e.isRequired&&n.createElement("span",{className:"text-danger"}," *"),e.hint&&n.createElement("small",{className:"form-text text-muted"},e.hint)),n.createElement(c.Col,{md:e.inputSize?e.inputSize:9},e.children,n.createElement(c.Form.Text,{className:"text-danger"},t.length>0&&t.join(", "))))},exports.InputChoose=function(e){var t=l.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),a=m.useDispatch(),r=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.parameter})||{},i=s.findArrayName(t,r)||null,d=(s.findArrayName("selected_"+t,o),e.type||"inline"),p=[];try{p=e.options.length>0?e.options:[]}catch(e){}function f(t){var n=[];if(l.isArray(e.optionLabel))for(var a=0;a<=e.optionLabel.length-1;a++)n.push(t[e.optionLabel[a]]);else n.push(t[e.optionLabel]);return n}function y(n,r){a({type:"SET_INPUT",payload:{key:s.slug(String(n),"_"),value:r}});var o=null;if(e.isMultiple){o=[];try{if(l.isArray(p)&&l.isArray(r))for(var i=0;i<p.length;i++)for(var u=0;u<r.length;u++){var c=p[i],d=r[u];String(c[e.optionValue])==String(d)&&o.push(c)}}catch(e){}0==o.length&&(o=null)}else o=l.find(p,function(t){return String(t[e.optionValue])==String(r)}.bind(this))||{},l.isEmpty(o)&&(o=null);l.isUndefined(o)||a({type:"SET_PARAMETER",payload:{key:"selected_"+t,value:o}})}function h(n){if(!e.isReadonly&&t)try{if(e.isMultiple){for(var a=i||[],l=!1,r=[],o=0;o<a.length;o++){var s=a[o];s==n[e.optionValue]?l=!0:r.push(s)}l||r.push(n[e.optionValue]),y(t,r)}else{var u=i;e.value&&(u=e.value);var c=null;u!=n[e.optionValue]&&(c=n[e.optionValue]),y(t,c)}}catch(e){y(t,null)}}return n.createElement("div",{className:"custom-controls-stacked"},p.map(function(a){var r=!1;try{r=e.isMultiple?l.includes(i,a[e.optionValue]):l.isEqual(i,a[e.optionValue])}catch(e){}return n.createElement(n.Fragment,null,n.createElement(c.Form.Check,{inline:"inline"===d,disabled:e.disabled||e.isReadonly,type:e.isMultiple?"checkbox":"radio",name:t,onChange:function(e){return h(a)},value:a,checked:r,label:f(a).map(function(t,a){return l.isEqual(String(t).substring(0,3),"AT-")?n.createElement(B,{value:t,isReadonly:!0,preview:!0}):e.isHtml?u(String(t)):t})}))}))},exports.InputColor=function(e){var a=t.useState(!1),r=a[0],o=a[1],i=l.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),u=m.useDispatch(),d=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},p=(m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.parameter}),s.findArrayName(i,d)||"");function f(){o(!r)}return n.createElement(n.Fragment,null,r?n.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",zIndex:999}},n.createElement(R.SketchPicker,{color:p,onChangeComplete:function(e){var t;t=e.hex,u({type:"SET_INPUT",payload:{key:s.slug(String(i),"_"),value:t}}),function(e,t){u({type:"SET_PARAMETER",payload:{key:s.slug(String(e),"_"),value:t}})}("selected_"+i,e)}}),n.createElement(c.Button,{style:{marginTop:10,backgroundColor:p,border:0},className:"btn btn-primary",onClick:f,type:"button"},"Pilih")):n.createElement(c.Button,{style:{zIndex:0,backgroundColor:p,border:0},className:"btn btn-primary",onClick:f,type:"button"},"Pilih"))},exports.InputDate=function(e){var t=l.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),a=m.useDispatch(),r=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=s.findArrayName(t,r)||null,i=s.findArrayName("start_"+t,r)||null,u=s.findArrayName("end_"+t,r)||null;if(null!=e&&e.isRange){try{i=g(i,"YYYY-MM-DD").isValid()?g(i,"YYYY-MM-DD").toDate():null}catch(e){}try{u=g(u,"YYYY-MM-DD").isValid()?g(u,"YYYY-MM-DD").toDate():null}catch(e){}}else try{o=g(o,"YYYY-MM-DD").isValid()?g(o,"YYYY-MM-DD").toDate():null}catch(e){}function c(e,t){a({type:"SET_INPUT",payload:{key:s.slug(String(e),"_"),value:g(t,"YYYY-MM-DD").isValid()?g(t,"YYYY-MM-DD").format("YYYY-MM-DD"):""}})}var d=null!=e&&e.dateFormat?null==e?void 0:e.dateFormat:"yyyy-MM-dd";function p(e){var t=g(e).format("d");return 5==t||6==t?"weekend":void 0}return null!=e&&e.isRange?null!=e&&e.disabled||null!=e&&e.isReadonly?(g(i,"YYYY-MM-DD").isValid()?g(i,"YYYY-MM-DD").format("DD-MM-YYYY"):"")+" - "+(g(u,"YYYY-MM-DD").isValid()?g(u,"YYYY-MM-DD").format("DD-MM-YYYY"):""):n.createElement("div",{className:"input-daterange input-group"},n.createElement(D,{minDate:g(null==e?void 0:e.minDate,"YYYY-MM-DD").isValid()?g(null==e?void 0:e.minDate,"YYYY-MM-DD").toDate():null,maxDate:g(null==e?void 0:e.maxDate,"YYYY-MM-DD").isValid()?g(null==e?void 0:e.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:d,placeholder:null!=e&&e.placeholder?null==e?void 0:e.placeholder:"Tanggal",selected:i,isClearable:!(null!=e&&e.disabled||null!=e&&e.isReadonly),customInput:n.createElement(j,{value:i,name:"start_"+t}),onChange:function(e){e=g(e,"YYYY-MM-DD").isValid()?g(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,c("start_"+t,e)},selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,showYearPicker:!1,name:"start_"+t,todayButton:"Hari ini",dayClassName:p,dropdownMode:"select",disabled:(null==e?void 0:e.disabled)||(null==e?void 0:e.isReadonly),readOnly:(null==e?void 0:e.disabled)||(null==e?void 0:e.isReadonly),startDate:i,endDate:u,shouldCloseOnSelect:!0}),n.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),n.createElement(D,{minDate:g(i,"YYYY-MM-DD").isValid()?g(i,"YYYY-MM-DD").toDate():g(null==e?void 0:e.minDate,"YYYY-MM-DD").isValid()?g(null==e?void 0:e.minDate,"YYYY-MM-DD").toDate():null,maxDate:g(null==e?void 0:e.maxDate,"YYYY-MM-DD").isValid()?g(null==e?void 0:e.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:d,placeholder:null!=e&&e.placeholder?null==e?void 0:e.placeholder:"Tanggal",selected:u,isClearable:!(null!=e&&e.disabled||null!=e&&e.isReadonly),name:"end_"+t,selectsEnd:!0,customInput:n.createElement(j,{value:u,name:"end_"+t}),onChange:function(e){e=g(e,"YYYY-MM-DD").isValid()?g(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,c("end_"+t,e)},selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,showYearPicker:!1,dayClassName:p,todayButton:"Hari ini",dropdownMode:"select",startDate:i,endDate:u,disabled:(null==e?void 0:e.disabled)||(null==e?void 0:e.isReadonly),readOnly:(null==e?void 0:e.disabled)||(null==e?void 0:e.isReadonly),shouldCloseOnSelect:!0})):null!=e&&e.disabled||null!=e&&e.isReadonly?g(null==e?void 0:e.input[t],"YYYY-MM-DD").isValid()?g(null==e?void 0:e.input[t],"YYYY-MM-DD").format("DD-MM-YYYY"):"":n.createElement(D,{minDate:g(null==e?void 0:e.minDate,"YYYY-MM-DD").isValid()?g(null==e?void 0:e.minDate,"YYYY-MM-DD").toDate():null,maxDate:g(null==e?void 0:e.maxDate,"YYYY-MM-DD").isValid()?g(null==e?void 0:e.maxDate,"YYYY-MM-DD").toDate():null,dateFormat:d,placeholder:null!=e&&e.placeholder?null==e?void 0:e.placeholder:"Tanggal",customInput:n.createElement(j,{value:o,name:t}),selected:o,isClearable:!(null!=e&&e.disabled||null!=e&&e.isReadonly),id:t,className:"form-control",dayClassName:p,onChange:function(e){e=g(e,"YYYY-MM-DD").isValid()?g(e,"YYYY-MM-DD").format("YYYY-MM-DD"):null,c(t,e)},selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,showYearPicker:!1,todayButton:"Hari ini",dropdownMode:"select",disabled:(null==e?void 0:e.disabled)||(null==e?void 0:e.isReadonly),readOnly:(null==e?void 0:e.disabled)||(null==e?void 0:e.isReadonly),shouldCloseOnSelect:!0})},exports.InputDateTime=function(e){var t=l.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),a=m.useDispatch(),r=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=s.findArrayName(t,r)||null,i=s.findArrayName("start_"+t,r)||null,u=s.findArrayName("end_"+t,r)||null;if(e.isRange){try{i=g(i,$).isValid()?g(i,$).toDate():null}catch(e){}try{u=g(u,$).isValid()?g(u,$).toDate():null}catch(e){}}else try{o=g(o,$).isValid()?g(o,$).toDate():null}catch(e){}function c(e,t){a({type:"SET_INPUT",payload:{key:s.slug(String(e),"_"),value:g(t,$).isValid()?g(t,$).format($):""}})}var d=e.dateFormat?e.dateFormat:"yyyy-MM-dd HH:mm:ss";function p(e){var t=g(e).format("d");return 5==t||6==t?"weekend":void 0}return e.isRange?e.disabled||e.isReadonly?n.createElement("div",{className:"input-daterange input-group"},g(i,$).isValid()?g(i,$).format("DD-MM-YYYY HH:mm:ss"):null,n.createElement("span",{style:{background:"none"}},"  s/d  "),g(u,$).isValid()?g(u,$).format("DD-MM-YYYY HH:mm:ss"):null):n.createElement("div",{className:"input-daterange input-group",style:{background:"none"}},n.createElement(D,{minDate:g(e.minDate,$).isValid()?g(e.minDate,$).toDate():null,maxDate:g(e.maxDate,$).isValid()?g(e.maxDate,$).toDate():null,dateFormat:d,placeholder:e.placeholder?e.placeholder:"Tanggal & Waktu",selected:i,isClearable:!e.disabled&&!e.isReadonly,customInput:n.createElement(ee,{value:i,name:"start_"+t}),onChange:function(e){e=g(e,$).isValid()?g(e,$).format($):null,c("start_"+t,e)},timeInputLabel:"Waktu : ",showTimeInput:!0,selectsStart:!0,peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,id:"start_"+t,name:"start_"+t,todayButton:"Hari ini",dayClassName:p,dropdownMode:"select",startDate:i,endDate:u,shouldCloseOnSelect:!0}),n.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),n.createElement(D,{minDate:g(i,$).isValid()?g(i,$).toDate():g(e.minDate,$).isValid()?g(e.minDate,$).toDate():null,maxDate:g(e.maxDate,$).isValid()?g(e.maxDate,$).toDate():null,dateFormat:d,placeholder:e.placeholder?e.placeholder:"Tanggal & Waktu",selected:u,isClearable:!e.disabled&&!e.isReadonly,id:"end_"+t,name:"end_"+t,selectsEnd:!0,timeInputLabel:"Waktu : ",showTimeInput:!0,customInput:n.createElement(ee,{value:u,name:"end_"+t}),onChange:function(e){e=g(e,$).isValid()?g(e,$).format($):null,c("end_"+t,e)},peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dayClassName:p,todayButton:"Hari ini",dropdownMode:"select",startDate:i,endDate:u,shouldCloseOnSelect:!0})):e.disabled||e.isReadonly?n.createElement("div",{className:"input-daterange input-group"},g(o,$).isValid()?g(o,$).format("DD-MM-YYYY HH:mm:ss"):null):n.createElement(D,{minDate:g(e.minDate,$).isValid()?g(e.minDate,$).toDate():null,maxDate:g(e.maxDate,$).isValid()?g(e.maxDate,$).toDate():null,dateFormat:d,placeholder:e.placeholder?e.placeholder:"Tanggal & Waktu",selected:o,isClearable:!e.disabled&&!e.isReadonly,id:t,className:"form-control",customInput:n.createElement(ee,{value:o,name:t}),dayClassName:p,onChange:function(e){e=g(e,$).isValid()?g(e,$).format($):null,c(t,e)},peekNextMonth:!0,timeInputLabel:"Waktu : ",showTimeInput:!0,showMonthDropdown:!0,showYearDropdown:!0,todayButton:"Hari ini",dropdownMode:"select",shouldCloseOnSelect:!0})},exports.InputFile=B,exports.InputNumber=function(e){var t=l.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),r=m.useDispatch(),o=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},i=s.findArrayName(t,o)||null,u=e.enableNegative?{numeral:!0}:{numeral:!0,numeralPositiveOnly:!0};function c(t,n,a){return void 0===n&&(n=0),void 0===a&&(a=100),e.enableNegative&&t<0&&(n=-a),isNaN(t)&&(t=n),(t=parseFloat(t))>=a?t=a:t<=n&&(t=n),t?Number(t):null}return"decimal"==e.type||"percent"==e.type||"range_three"==e.type||(u.numeralThousandsGroupStyle="thousand"),e.disabled||e.isReadonly?l.isNull(i)||l.isUndefined(i)?null:s.numberFormat(i,""):"range"==e.type?n.createElement(N,{maxValue:e.maxValue,minValue:e.minValue,value:i,onChange:this.onChange}):n.createElement(a,{placeholder:e.placeholder?e.placeholder:"",id:t,name:t,onInit:function(e){},value:i,onChange:function(n){var a=l.isNumber(n.target.value)?Number(n.target.value):Number(n.target.value.replace(/[^0-9.-]+/g,""));"decimal"==e.type?a=Number(a):"percent"==e.type?a=c(a,0,100):"range_three"==e.type?a=c(a,1,3):"range_hundred"==e.type?a=c(a,1,100):"range_depend"==e.type&&(a=c(a,0,100));var o=e.minValue?Number(e.minValue):null,i=e.maxValue?Number(e.maxValue):null;i&&o?a=c(a,o,i):!i&&o?a=c(a,o,999999999999):i&&!o&&(a=c(a,0,i)),a=function(e){!function(e,t){r({type:"SET_INPUT",payload:{key:s.slug(String(e),"_"),value:t}})}(t,e)}(a)},options:u,className:"form-control"})},exports.InputSelect=ne,exports.InputSelectFetch=function(e){var a=e.isMultiple,r=e.defaultValue,o=e.optionLabel,i=e.separator,u=m.useDispatch(),d=m.useSelector(function(e){return e.auth})||{},f=m.useSelector(function(e){return e.core.input})||{},y=m.useSelector(function(e){return e.core.filter})||{},h=m.useSelector(function(e){return e.core.parameter})||{},g=t.useState(!1),v=g[0],E=g[1],_=(t.useState(!1),t.useState(!1)),S=_[0],D=_[1],k=t.useState(!1),N=k[0],w=k[1],A=t.useState({}),T=A[0],C=A[1],P=(t.useState(a?[]:{}),t.useState(0)[1]),I=t.useState(!1),M=I[0],R=I[1],F=(t.useState(1),s.slug(e.name,"_")),U=s.slug("selected_"+F,"_"),V=(t.useState(e.label?e.label:s.findArrayName(F,f)),t.useRef()),H=x.useIsVisible(V),z=t.useState([]),B=z[0],q=z[1],j=t.useState({}),G=j[0],K=j[1],X=e.primaryKey?e.primaryKey:"id";function Q(e){var t=[];if(i=i||" | ",l.isArray(o)){for(var n=0;n<=o.length-1;n++)e[o[n]]&&!l.isUndefined(e[o[n]])&&t.push(e[o[n]]);return t.join(i)}return e[o]?e[o]:""}var Z=[{Header:"#",id:F+"_check",Cell:function(t){var r=m.useSelector(function(e){return e.core.input}),o=!1,i=s.findArrayName(U,r);try{o=a?l.findIndex(i,function(e){return e===t.row.original[X]})>-1:i===t.row.original[X]}catch(e){}return t.row.original[X]?n.createElement(c.Form.Check,{inline:!0,id:s.slug(F+"_check_"+t.row.original[X],"_"),name:s.slug(F+"_check_"+t.row.original[X],"_"),style:{zIndex:100},type:a?"checkbox":"radio",value:1,checked:o,disabled:e.isReadonly,onChange:function(){return function(e,t,n){void 0===n&&(n=!1);var r=e.row.original||{};if(a){var o=[],i=s.findArrayName(U,t);n?o=l.filter(i,function(e){return e&&r&&String(e)!=String(r[X])})||[]:(l.isArray(o=i||[])||(o=[]),r[X]&&o.push(r[X])),o=l.uniq(o),o=l.filter(o,function(e){return!l.isNull(e)&&!l.isUndefined(e)})||[],u({type:"SET_INPUT",payload:{key:U,value:o}})}else u({type:"SET_INPUT",payload:{key:U,value:r[X]}})}(t,r,o)}}):null}}].concat([{Header:"Keterangan",id:"label",accessor:function(e){return Q(e)}}]);function $(){M&&te()}s.useDebounce(function(){if(a){var t=l.filter(s.findArrayName(U,f),function(e){return!l.isNull(e)&&!l.isUndefined(e)})||[];if(t.length>0){var n=process.env.REACT_APP_API_URL+"/"+e.url,r=s.defaultFilterData(y,[],F),o=s.secureData(L({pkey:X,selected:t,keyword:r.keyword,load:t.length,page:1},e.parameter)),i={method:"POST",headers:s.setAuthHeader(d),url:n,data:o};D(!0),p(i).then(function(e){u({type:"SET_PARAMETER",payload:{key:U,value:e.data.data.data}}),ne(e.data.data.data),D(!1)}).catch(function(e){D(!1)})}else u({type:"SET_PARAMETER",payload:{key:U,value:null}})}else{var c=s.findArrayName(U,f)||null;if(c){var m=process.env.REACT_APP_API_URL+"/"+e.url,h=s.defaultFilterData(y,[],F),g=s.secureData(L({pkey:X,selected:[c],keyword:h.keyword,load:1,page:1},e.parameter)),v={method:"POST",headers:s.setAuthHeader(d),url:m,data:g};D(!0),p(v).then(function(e){var t=e.data.data.data[0]||{};u({type:"SET_PARAMETER",payload:{key:U,value:t}}),ne(t),D(!1)}).catch(function(e){D(!1)})}else u({type:"SET_PARAMETER",payload:{key:U,value:null}})}},400,[s.findArrayName(U,f)]),s.useDebounce($,400,[s.findArrayName("keyword_"+F,y),s.findArrayName("page_"+F,y),s.findArrayName("load_"+F,y)]);var ee=n.useMemo(function(){return Z},[]);function te(){var t=process.env.REACT_APP_API_URL+"/"+e.url,n=s.defaultFilterData(y,[],F),a=s.secureData(L({pkey:X,page:n.page,load:n.load,keyword:n.keyword,sorted:n.sorted,search:n.search},e.parameter)),l={method:"POST",headers:s.setAuthHeader(d),url:t,data:a};return w(!0),p(l).then(function(e){var t=e.data||{};if(void 0!==t.data.data){P(t.data.meta.last_page);try{q(t.data.data||[])}catch(e){}try{K(t.data.meta||{})}catch(e){}}else if(void 0!==t.data){P(t.meta.last_page);try{q(t.data||[])}catch(e){}try{K(t.meta||{})}catch(e){}}w(!1)}).catch(function(e){w(!1)})}function ne(t){a?function(t){if(l.isObject(e.optionValue))Object.keys(e.optionValue).map(function(n,a){var r=e.optionValue[n],o=null;if(t)try{o=l.uniq(l.map(t,n))}catch(e){}l.isEqual(s.findArrayName(r,f),o)||u({type:"SET_INPUT",payload:{key:r,value:o}})});else{var n=F,a=null;t&&(a=l.uniq(l.map(t,X))),l.isEqual(s.findArrayName(n,f),a)||u({type:"SET_INPUT",payload:{key:n,value:a}})}}(t):function(t){if(l.isObject(e.optionValue))Object.keys(e.optionValue).map(function(n,a){var r=e.optionValue[n],o=null;if(t)try{o=t[n]}catch(e){}l.isEqual(s.findArrayName(r,f),o)||u({type:"SET_INPUT",payload:{key:r,value:o}})});else{var n=F,a=null;t&&(a=t[X]),l.isEqual(s.findArrayName(n,f),a)||u({type:"SET_INPUT",payload:{key:n,value:a}})}}(t)}t.useEffect(function(){l.isEqual(e.parameter,T)||(C(e.parameter),$()),H!=v&&E(H)}),t.useEffect(function(){u({type:"SET_FILTER",payload:{key:s.slug("show_"+F,"_"),value:M}})},[M]),t.useEffect(function(){if(v){var e=null;try{a?(e=l.map(r,"value"),e=l.filter(e,function(e){return e})||[]):e=r.value||null}catch(e){}var t=s.findArrayName(U,f)||null;l.isEqual(e,t)||(l.isNull(e)&&!l.isNull(t)?u({type:"SET_INPUT",payload:{key:U,value:t}}):!l.isNull(e)&&l.isNull(t)?u({type:"SET_INPUT",payload:{key:U,value:e}}):l.isNull(e)||l.isNull(t)?u({type:"SET_INPUT",payload:{key:U,value:null}}):u({type:"SET_INPUT",payload:{key:U,value:e}}))}},[v]),t.useEffect(function(){var e=null;try{e=a?l.filter(l.map(r,"value"),function(e){return e})||null:r.value||null}catch(e){}e&&u({type:"SET_INPUT",payload:{key:U,value:e}})},[]);var ae=[],le=s.findArrayName(U,f);try{ae=a?l.isArray(le)?le:[]:le?[le]:[]}catch(e){}var oe=s.findArrayName(U,h),ie=null;try{ie=a?l.isArray(oe)?oe:[]:l.isObject(oe)?oe:{}}catch(e){}return n.createElement("div",{ref:V},n.createElement(c.Row,null,!e.isReadonly&&n.createElement(c.Col,{lg:"2",md:"2",sm:"4",xs:"12"},n.createElement(c.Button,{style:{zIndex:0},variant:"primary",type:"button",className:"btn-icon",onClick:function(){u({type:"SET_FILTER",payload:{key:s.slug("page_"+F,"_"),value:1}}),R(function(e){return!e}),te()}},n.createElement(b.FontAwesomeIcon,{icon:Y.faSearch}))),n.createElement(c.Col,{lg:"10",md:"10",sm:"8",xs:"12"},S?n.createElement(O,null):ae.map(function(t,l){return n.createElement(n.Fragment,null,n.createElement(re,{isReadonly:e.isReadonly,name:F,optionLabel:o,separator:i,param:e.parameter,url:e.url,primaryKey:X,isMultiple:a,id:t}),e.isReadonly?ae.length-1==l?null:", ":null)}))),n.createElement(c.Modal,{backdrop:"static",autoFocus:!0,restoreFocus:!0,centered:!0,size:"xl",show:M},n.createElement(c.Modal.Header,null,n.createElement(c.Modal.Title,null,e.placeholder||"Pilih")),n.createElement(c.Modal.Body,null,n.createElement(W,{isLoading:N},n.createElement("div",null,n.createElement(c.InputGroup,{style:{marginBottom:12}},n.createElement(c.InputGroup.Text,{style:{background:"none"}},n.createElement(b.FontAwesomeIcon,{icon:Y.faSearch})),n.createElement(c.Form.Control,{style:{borderLeft:"none",zIndex:0},className:"form-control",value:s.findArrayName("keyword_"+F,y),onChange:function(e){var t;u({type:"SET_MULTI_FILTER",payload:(t={},t["keyword_"+F]=e.target.value,t["page_"+F]=1,t)})},type:"text",id:"search_"+U,name:"search_"+F,placeholder:"Pencarian"}),n.createElement(c.Button,{style:{zIndex:0},variant:"primary",onClick:$,type:"button",disabled:e.isLoading},n.createElement(b.FontAwesomeIcon,{icon:Y.faSync,spin:e.isLoading}))),n.createElement(J,{name:F,columns:ee,data:B,primaryKey:X,isColumnsSearchable:!0,fetchData:$,loading:N,customPageTotal:G&&!l.isEmpty(G)?G.total:0,customPageCount:G&&!l.isEmpty(G)?G.last_page:1,customPageSize:G&&!l.isEmpty(G)?G.per_page:y["load_"+F]?y["load_"+F]:5,customPageIndex:G&&!l.isEmpty(G)?G.current_page:y["page_"+F]?y["page_"+F]:1}))),!N&&n.createElement(c.Row,{style:{marginTop:12}},n.createElement(c.Col,{lg:"9",md:"8",sm:"6",xs:"12"},n.createElement("p",{style:{marginBottom:"4px"}},"Dipilih : "),S&&n.createElement(O,null),n.createElement("ul",null,a?ie&&ie.map(function(e,t){return n.createElement("li",null,l.isUndefined(e)||l.isEmpty(e)?"":Q(e))}):ie&&n.createElement("li",null,l.isUndefined(ie)||l.isEmpty(ie)?"":Q(ie)))),n.createElement(c.Col,{lg:"3",md:"4",sm:"6",xs:"12"},n.createElement(c.Button,{variant:"primary",type:"button",className:"btn-icon",style:{float:"right"},onClick:function(){R(!1)}},n.createElement(b.FontAwesomeIcon,{icon:Y.faCheck})))))))},exports.InputTag=function(e){var a=t.useState([]),r=a[0],o=a[1],i=l.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),u=m.useDispatch(),c=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},d=(m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.parameter}),s.findArrayName(i,c)||""),p=t.useState([]),f=p[0],y=p[1];return t.useEffect(function(){var t=[],n=[];try{if(l.isArray(e.options))for(var a=0;a<e.options.length;a++){var r=e.options[a];_.isEmpty(r[e.optionValue])||t.push({name:r[e.optionValue]})}}catch(e){}var i=d?String(d).split("|"):[];try{if(l.isArray(i))for(var s=0;s<i.length;s++){var u=i[s];_.isEmpty(u)||n.push({name:u})}}catch(e){}o(t),y(_.uniqBy(n,"name"))},[d]),n.createElement(P,{minQueryLength:1,noSuggestionsText:"Tidak ada usulan",tags:f,id:i,removeButtonText:"Klik untuk menghapus",delimiters:["Enter","Tab"],placeholderText:e.placeholder?e.placeholder:"Dipisah dengan spasi / enter",allowNew:e.isCreateable,suggestions:r,onDelete:function(e){return t=e,(n=f.slice(0)).splice(t,1),void y(n);var t,n},onValidate:function(e){return _.findIndex(f,["name",e.name])<0},onFocus:function(e){},onAddition:function(e){return a=[].concat(f,e),y(_.uniqBy(a,"name")),t=i,n=_.map(a,"name").join("|"),void u({type:"SET_INPUT",payload:{key:s.slug(String(t),"_"),value:n}});var t,n,a}})},exports.InputText=U,exports.InputTime=function(e){var t=l.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),a=m.useDispatch(),r=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=s.findArrayName(t,r)||null,i=s.findArrayName("start_"+t,r)||null,u=s.findArrayName("end_"+t,r)||null,c=e.format?e.format:"HH:mm:ss";if(e.isRange){try{i=g(i,c).isValid()?g(i,c):null}catch(e){}try{u=g(u,c).isValid()?g(u,c):null}catch(e){}}else try{o=g(o,c).isValid()?g(o,c):null}catch(e){}function d(e,t){a({type:"SET_INPUT",payload:{key:s.slug(String(e),"_"),value:g(t,c).isValid()?g(t,c).format(c):""}})}return e.isRange?e.disabled||e.isReadonly?n.createElement("div",{className:"input-daterange input-group"},g(i,c).isValid()?g(i,c).format(c):"",n.createElement("span",{style:{background:"none"}},"  s/d  "),g(u,c).isValid()?g(u,c).format(c):""):n.createElement("div",{className:"input-daterange input-group"},n.createElement(C,{value:i,disabled:e.disabled||e.isReadonly,inputIcon:n.createElement(te,null),format:c,onChange:function(e){e=g(e,c).isValid()?g(e,c).format(c):null,d("start_"+t,e)}}),n.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),n.createElement(C,{value:u,disabled:e.disabled||e.isReadonly,inputIcon:n.createElement(te,null),format:c,onChange:function(e){e=g(e,c).isValid()?g(e,c).format(c):null,d("end_"+t,e)}})):e.disabled||e.isReadonly?n.createElement("div",{className:"input-daterange input-group"},g(o,c).isValid()?g(o,c).format(c):""):n.createElement(C,{value:o,disabled:e.disabled||e.isReadonly,inputIcon:n.createElement(te,null),format:c,onChange:function(e){e=g(e,c).isValid()?g(e,c).format(c):null,d(t,e)}})},exports.InputWorkflow=function(e){var a=t.useState(!1),r=a[0],o=a[1],i=t.useState(!1),u=i[0],d=i[1],f=t.useState(!1),y=f[0],h=f[1],v=t.useState(!1),E=v[0],b=v[1],Y=m.useSelector(function(e){return e.auth})||{},_=m.useSelector(function(e){return e.core.input})||{},S=m.useSelector(function(e){return e.core.validation})||[],D=(m.useSelector(function(e){return e.core.parameter}),m.useSelector(function(e){return e.core.filter})||{}),k=m.useDispatch(),N=t.useState({}),w=N[0],A=N[1],T=t.useState({activity:{},role:"",response:[]}),x=T[0],C=T[1],P=e.doAfterSubmit,I=e.isLoading,M=e.doSubmit,R=e.doCancel,F=e.isReadonly,V=e.relation,H=e.id,z=e.isDelete,q=t.useState(F),j=q[0],G=q[1];return t.useEffect(function(){G(F)},[F]),t.useEffect(function(){var e,t;e=process.env.REACT_APP_API_URL+"/komentar_respon?",t={data:s.secureData({relation:V,id:H}),method:"POST",headers:s.setAuthHeader(Y),url:e},b(!0),p(t).then(function(e){var t=e.data.data||{};z&&(t.response=l.filter(t.response,function(e){return"HAPUS"==e.code})),C(t),b(!1)}).catch(function(e){s.fetchErrorDispatch(e,k),b(!1)})},[]),t.useEffect(function(){var e=[];try{e=x.role.split(",")}catch(e){}var t=[];try{t=Y.user.role.split(",")}catch(e){}for(var n=!1,a=!1,r=0;r<t.length;r++)!a&&t[r]&&l.isEqual(String(t[r]).trim().toLowerCase(),"admin")&&(a=!0,n=!0,k({type:"SET_INPUT",payload:{key:"response_role",value:String(t[r]).trim().toLowerCase()}}));if(!a)for(var o=0;o<e.length;o++)for(var i=0;i<t.length;i++)e[o]&&t[i]&&String(e[o]).trim().toLowerCase()==String(t[i]).trim().toLowerCase()&&!n&&(n=!0,k({type:"SET_INPUT",payload:{key:"response_role",value:String(t[i]).trim().toLowerCase()}}));!l.isEmpty(x.activity)&&x.response.length>0&&n&&j&&!F?(G(!1),k({type:"SET_INPUT",payload:{key:"activity",value:x.activity.code}})):G(!0)},[x]),t.useEffect(function(){y&&!l.isEmpty(S)&&h(!1)},[S]),t.useEffect(function(){!y||I||r||(h(!1),l.isEmpty(S)&&P&&P())},[r,S,I]),E?n.createElement(O,null):n.createElement(W,{isLoading:I||y},n.createElement(c.Card,null,n.createElement(c.Card.Body,null,n.createElement(c.Card.Title,{tag:"h5"},x.activity.name||"Alur tidak ditemukan"),n.createElement(c.Card.Text,null,!j&&n.createElement(c.Row,null,n.createElement(c.Col,{lg:"6"},n.createElement(c.Form.Group,{as:c.Row},n.createElement(c.Col,{lg:"3"},n.createElement(c.Form.Label,null,"Respon ",n.createElement("span",{className:"text-danger"},"*"))),n.createElement(c.Col,{lg:"9"},n.createElement(ne,{name:"response_activity",options:x.response,separator:" | ",optionLabel:["name"],optionValue:"code"}))),n.createElement(c.Form.Group,{as:c.Row},n.createElement(c.Col,{lg:"3"},n.createElement(c.Form.Label,null,"Lampiran")),n.createElement(c.Col,{lg:"5"},n.createElement(B,{value:_.attachment,name:"response_attachment",id:"response_attachment"})))),n.createElement(c.Col,{lg:"6"},n.createElement(c.Form.Group,{as:c.Row},n.createElement(c.Col,{lg:"3",style:{marginBottom:35}},n.createElement(c.Form.Label,null,"Komentar")),n.createElement(c.Col,{lg:"9"},n.createElement(U,{type:"textarea",required:!0,name:"response_comment",id:"response_comment",rows:"3"}))))),n.createElement(Q,{data:w,isLoading:u,name:s.slug(e.relation,"_"),primaryKey:"id",isSearchable:!0,isColumnsSearchable:!0,onReload:function(){var t=process.env.REACT_APP_API_URL+"/komentar?",n={};try{n=s.defaultFilterData(D,["user","role","activity","comment","due_datetime","start_datetime","end_datetime"],s.slug(e.relation,"_"))}catch(e){}var a=L({relation:V,id:H},n),l={data:s.secureData(a),method:"POST",headers:s.setAuthHeader(Y),url:t};d(!0),p(l).then(function(e){A(e.data.data),d(!1)}).catch(function(e){s.fetchErrorDispatch(e,k),d(!1)})},columns:[{Header:"Nama",id:"user",accessor:function(e){return e.user}},{Header:"Jabatan",id:"role",accessor:function(e){return e.role}},{Header:"Aktifitas",id:"activity",accessor:function(e){return e.activity}},{Header:"Respon",id:"response",accessor:function(e){return e.response}},{Header:"Komentar",id:"comment",accessor:function(e){return e.comment}},{Header:"Tenggat",id:"due_datetime",accessor:function(e){return e.due_datetime&&g(e.due_datetime).format("DD-MM-YYYY HH:mm")}},{Header:"Mulai",id:"start_datetime",accessor:function(e){return e.start_datetime&&g(e.start_datetime).format("DD-MM-YYYY HH:mm")}},{Header:"Selesai",id:"end_datetime",accessor:function(e){return e.end_datetime&&g(e.end_datetime).format("DD-MM-YYYY HH:mm")}},{Header:"Lampiran",id:"attachment",accessor:function(e){return n.createElement(B,{value:e.attachment,isReadonly:!0})}}]})),n.createElement(c.Row,{className:"mt-2"},n.createElement(c.Col,null,n.createElement(c.Button,{type:"button",className:"btn btn-icon btn-primary float-left",onClick:function(e){R&&R()}},"Kembali"),!j&&n.createElement(c.Button,{type:"button",className:"btn btn-icon btn-primary float-right",onClick:function(e){!_.response_activity||l.isEmpty(_.response_activity)?k({type:"SET_MESSAGE",payload:"Respon wajib diisi"}):(h(!0),o(!0),setTimeout(function(){return o(!1)},1e3),M&&M())}},"Proses"))))))},exports.InputYear=function(e){var t=l.isUndefined(null==e?void 0:e.name)?"":s.slug(String(null==e?void 0:e.name),"_"),a=m.useDispatch(),r=m.useSelector(function(e){var t;return null===(t=e.core)||void 0===t?void 0:t.input})||{},o=s.findArrayName(t,r)||null,i=s.findArrayName("start_"+t,r)||null,u=s.findArrayName("end_"+t,r)||null;if(e.isRange){try{i=g(i,"YYYY").isValid()?g(i,"YYYY").toDate():null}catch(e){}try{u=g(u,"YYYY").isValid()?g(u,"YYYY").toDate():null}catch(e){}}else try{o=g(o,"YYYY").isValid()?g(o,"YYYY").toDate():null}catch(e){}function c(e,t){a({type:"SET_INPUT",payload:{key:s.slug(String(e),"_"),value:g(t,"YYYY").isValid()?g(t,"YYYY").format("YYYY"):""}})}return e.isRange?e.disabled||e.isReadonly?(g(i,"YYYY").isValid()?g(i,"YYYY").format("YYYY"):"")+" - "+(g(u,"YYYY").isValid()?g(u,"YYYY").format("YYYY"):""):n.createElement("div",{className:"input-daterange input-group"},n.createElement(D,{minDate:g(e.minDate,"YYYY").isValid()?g(e.minDate,"YYYY").toDate():null,maxDate:g(e.maxDate,"YYYY").isValid()?g(e.maxDate,"YYYY").toDate():null,dateFormat:"yyyy",placeholder:e.placeholder?e.placeholder:"Tanggal",selected:i,isClearable:!e.disabled&&!e.isReadonly,customInput:n.createElement(ae,{value:i,name:"start_"+t}),onChange:function(e){e=g(e,"YYYY").isValid()?g(e,"YYYY").format("YYYY"):null,c("start_"+t,e)},selectsStart:!1,peekNextMonth:!1,showMonthDropdown:!1,showYearDropdown:!1,showYearPicker:!0,name:"start_"+t,todayButton:null,dropdownMode:"select",disabled:e.disabled||e.isReadonly,readOnly:e.disabled||e.isReadonly,startDate:i,endDate:u,shouldCloseOnSelect:!1}),n.createElement("span",{className:"input-group-addon",style:{background:"none"}},"  -  "),n.createElement(D,{minDate:g(i,"YYYY").isValid()?g(i,"YYYY").toDate():g(e.minDate,"YYYY").isValid()?g(e.minDate,"YYYY").toDate():null,maxDate:g(e.maxDate,"YYYY").isValid()?g(e.maxDate,"YYYY").toDate():null,dateFormat:"yyyy",placeholder:e.placeholder?e.placeholder:"Tanggal",selected:u,isClearable:!e.disabled&&!e.isReadonly,name:"end_"+t,selectsEnd:!0,customInput:n.createElement(ae,{value:u,name:"end_"+t}),onChange:function(e){e=g(e,"YYYY").isValid()?g(e,"YYYY").format("YYYY"):null,c("end_"+t,e)},selectsStart:!1,peekNextMonth:!1,showMonthDropdown:!1,showYearDropdown:!1,showYearPicker:!0,todayButton:null,dropdownMode:"select",startDate:i,endDate:u,disabled:e.disabled||e.isReadonly,readOnly:e.disabled||e.isReadonly,shouldCloseOnSelect:!1})):e.disabled||e.isReadonly?g(o,"YYYY").isValid()?g(o,"YYYY").format("YYYY"):"":n.createElement(D,{minDate:g(e.minDate,"YYYY").isValid()?g(e.minDate,"YYYY").toDate():null,maxDate:g(e.maxDate,"YYYY").isValid()?g(e.maxDate,"YYYY").toDate():null,dateFormat:"yyyy",placeholder:e.placeholder?e.placeholder:"Tanggal",customInput:n.createElement(ae,{value:o,name:t}),selected:o,isClearable:!e.disabled&&!e.isReadonly,id:t,className:"form-control",onChange:function(e){e=g(e,"YYYY").isValid()?g(e,"YYYY").format("YYYY"):null,c(t,e)},selectsStart:!1,peekNextMonth:!1,showMonthDropdown:!1,showYearDropdown:!1,showYearPicker:!0,todayButton:null,dropdownMode:"select",disabled:e.disabled||e.isReadonly,readOnly:e.disabled||e.isReadonly,shouldCloseOnSelect:!1})},exports.Loading=O,exports.LoadingOverlay=W,exports.LoadingPage=function(){return n.createElement(S,{color:"#000",css:le,size:50})};
//# sourceMappingURL=index.js.map
